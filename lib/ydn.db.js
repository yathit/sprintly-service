(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,r=this;function aa(a){a=a.split(".");for(var b=r,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return void 0!==a}function u(a){return"array"==ba(a)}function v(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function ca(a){return"boolean"==typeof a}function x(a){return"number"==typeof a}function da(a){return"function"==ba(a)}function y(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}
var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;function ga(a,b,c){return a.call.apply(a.bind,arguments)}function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ia(a,b,c){ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ga:ha;return ia.apply(null,arguments)}function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ka=Date.now||function(){return+new Date};
function la(a,b){var c=a.split("."),d=r;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}function C(a,b){function c(){}c.prototype=b.prototype;a.t=b.prototype;a.prototype=new c;a.mc=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function ma(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function na(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function oa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,oa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}C(oa,Error);oa.prototype.name="CustomError";var pa;function qa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function ra(a){return/^[\s\xa0]*$/.test(a)}function sa(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(va,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(wa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(xa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(za,"&#39;"));return a}var va=/&/g,wa=/</g,xa=/>/g,ya=/"/g,za=/'/g,ua=/[&<>"']/;function Aa(a){return sa(a.replace(/  /g," &#160;"),void 0)}
function Ba(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a}var Ca={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},Da={"'":"\\'"};
function Ea(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=b,g=c+1,h;if(!(h=Ca[d])){if(!(31<e&&127>e))if(d in Da)d=Da[d];else if(d in Ca)d=Da[d]=Ca[d];else{e=d;h=d.charCodeAt(0);if(31<h&&127>h)e=d;else{if(256>h){if(e="\\x",16>h||256<h)e+="0"}else e="\\u",4096>h&&(e+="0");e+=h.toString(16).toUpperCase()}d=Da[d]=e}h=d}f[g]=h}b.push('"');return b.join("")}function Fa(a,b){return a<b?-1:a>b?1:0};function Ga(a,b){b.unshift(a);oa.call(this,qa.apply(null,b));b.shift()}C(Ga,oa);Ga.prototype.name="AssertionError";function Ha(a,b){throw new Ga("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Ia(a){da(r.setImmediate)?r.setImmediate(a):(Ja||(Ja=Ka()),Ja(a))}var Ja;
function Ka(){if(r.pb&&r.pb.resolve){var a=r.pb.resolve();return function(b){a.then(b)}}var b=r.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(b=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=ia(function(a){if(a.origin==
d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof b){var c=new b,d={},e=d;c.port1.onmessage=function(){d=d.next;var a=d.tb;d.tb=null;a()};return function(a){e.next={tb:a};e=e.next;c.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){r.setTimeout(a,0)}};function La(a){Ia(function(){throw a;})}function Ma(a,b){Na||(Ia(Oa),Na=!0);Pa.push(new Qa(a,b))}var Na=!1,Pa=[];[].push(function(){Na=!1;Pa=[]});function Oa(){for(;Pa.length;){var a=Pa;Pa=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.a.call(c.b)}catch(d){La(d)}}}Na=!1}function Qa(a,b){this.a=a;this.b=b};function Ra(a,b){this.a=Sa;this.f=void 0;this.b=this.c=null;this.d=this.e=!1;this.g=[];Ta(this,Error("created"));this.i=0;try{var c=this;a.call(b,function(a){Ua(c,Va,a)},function(a){Ua(c,Wa,a)})}catch(d){Ua(this,Wa,d)}}var Sa=0,Va=2,Wa=3;Ra.prototype.then=function(a,b,c){Ta(this,Error("then"));return Xa(this,da(a)?a:null,da(b)?b:null,c)};ma(Ra);function Ya(a){a.a==Sa&&Ma(function(){var a=new Za(void 0);$a(this,a)},a)}
function $a(a,b){if(a.a==Sa)if(a.c){var c=a.c;if(c.b){for(var d=0,e=-1,f=0,g;g=c.b[f];f++)if(g=g.ya)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.a==Sa&&1==d?$a(c,b):(d=c.b.splice(e,1)[0],Wa==Va?d.Za(b):(ab(c),d.$a(b))))}}else Ua(a,Wa,b)}function bb(a,b){a.b&&a.b.length||a.a!=Va&&a.a!=Wa||cb(a);a.b||(a.b=[]);a.b.push(b)}
function Xa(a,b,c,d){var e={ya:null,Za:null,$a:null};e.ya=new Ra(function(a,g){e.Za=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.$a=c?function(b){try{var e=c.call(d,b);!t(e)&&b instanceof Za?g(b):a(e)}catch(m){g(m)}}:g});e.ya.c=a;bb(a,e);return e.ya}Ra.prototype.j=function(a){this.a=Sa;Ua(this,Va,a)};Ra.prototype.l=function(a){this.a=Sa;Ua(this,Wa,a)};
function Ua(a,b,c){if(a.a==Sa){if(a==c)b=Wa,c=new TypeError("Promise cannot resolve to itself");else{if(na(c)){a.a=1;c.then(a.j,a.l,a);return}if(y(c))try{var d=c.then;if(da(d)){db(a,c,d);return}}catch(e){b=Wa,c=e}}a.f=c;a.a=b;cb(a);b!=Wa||c instanceof Za||fb(a,c)}}function db(a,b,c){function d(b){f||(f=!0,a.l(b))}function e(b){f||(f=!0,a.j(b))}a.a=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function cb(a){a.e||(a.e=!0,Ma(a.r,a))}
Ra.prototype.r=function(){for(;this.b&&this.b.length;){var a=this.b;this.b=[];for(var b=0;b<a.length;b++){this.i++;var c=a[b],d=this.f;this.a==Va?c.Za(d):(ab(this),c.$a(d))}}this.e=!1};function Ta(a,b){if(w(b.stack)){var c=b.stack.split("\n",4)[3],d=b.message,d=d+Array(11-d.length).join(" ");a.g.push(d+c)}}function ab(a){for(;a&&a.d;a=a.c)a.d=!1}
function fb(a,b){a.d=!0;Ma(function(){if(a.d){if(b&&w(b.stack)&&a.g.length){for(var c=["Promise trace:"],d=a;d;d=d.c){for(var e=a.i;0<=e;e--)c.push(d.g[e]);c.push("Value: ["+(d.a==Wa?"REJECTED":"FULFILLED")+"] <"+String(d.f)+">")}b.stack+="\n\n"+c.join("\n")}gb.call(null,b)}})}var gb=La;function Za(a){oa.call(this,a)}C(Za,oa);Za.prototype.name="cancel";var hb=Array.prototype,ib=hb.indexOf?function(a,b,c){return hb.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},jb=hb.forEach?function(a,b,c){hb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},lb=hb.map?function(a,b,c){return hb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=
w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},mb=hb.some?function(a,b,c){return hb.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},nb=hb.every?function(a,b,c){return hb.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function ob(a,b){var c=pb(a,b,void 0);return 0>c?null:w(a)?a.charAt(c):a[c]}
function pb(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function qb(a,b){return 0<=ib(a,b)}function rb(a){if(!u(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function sb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function tb(a,b,c,d){hb.splice.apply(a,ub(arguments,1))}function ub(a,b,c){return 2>=arguments.length?hb.slice.call(a,b):hb.slice.call(a,b,c)}
function vb(a,b){if(!v(a)||!v(b)||a.length!=b.length)return!1;for(var c=a.length,d=wb,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function xb(a,b){return a>b?1:a<b?-1:0}function wb(a,b){return a===b}function yb(a,b){var c;c=zb||xb;for(var d=0,e=a.length,f;d<e;){var g=d+e>>1,h;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}c=f?d:~d;0>c&&tb(a,-(c+1),0,b)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function D(a,b){this.i=[];this.Y=b||null;this.b=this.c=!1;this.e=void 0;this.ka=this.G=this.j=!1;this.g=0;this.d=null;this.u=0;this.A=null;if(Error.captureStackTrace){var c={stack:""};Error.captureStackTrace(c,D);"string"==typeof c.stack&&(this.A=c.stack.replace(/^[^\n]*\n/,""))}}l=D.prototype;l.za=function(a,b){this.j=!1;Ab(this,a,b)};function Ab(a,b,c){a.c=!0;a.e=c;a.b=!b;a.Ua()}function Bb(a){if(a.c){if(!a.ka)throw new Cb;a.ka=!1}}l.o=function(a){Bb(this);Ab(this,!0,a)};
l.m=function(a){Bb(this);Db(this,a);Ab(this,!1,a)};function Db(a,b){a.A&&y(b)&&b.stack&&/^[^\n]+(\n   [^\n]+)+/.test(b.stack)&&(b.stack=b.stack+"\nDEFERRED OPERATION:\n"+a.A)}l.I=function(a,b){return Eb(this,a,null,b)};l.qb=function(a,b){return Eb(this,null,a,b)};l.ha=function(a,b){return Eb(this,a,a,b)};function Eb(a,b,c,d){a.i.push([b,c,d]);a.c&&a.Ua();return a}l.then=function(a,b,c){var d,e,f=new Ra(function(a,b){d=a;e=b});Eb(this,d,function(a){e(a)});return f.then(a,b,c)};ma(D);
D.prototype.Ja=function(a){var b=new D;Eb(this,b.o,b.m,b);a&&(b.d=this,this.u++);return b};function Fb(a){return mb(a.i,function(a){return da(a[1])})}
D.prototype.Ua=function(){this.g&&this.c&&Fb(this)&&(Gb(this.g),this.g=0);this.d&&(this.d.u--,delete this.d);for(var a=this.e,b=!1,c=!1;this.i.length&&!this.j;){var d=this.i.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.Y,a);t(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.e=a=g);na(a)&&(this.j=c=!0)}catch(h){a=h,this.b=!0,Db(this,a),Fb(this)||(b=!0)}}this.e=a;c&&(c=ia(this.za,this,!0),g=ia(this.za,this,!1),a instanceof D?(Eb(a,c,g),a.G=!0):a.then(c,g));b&&(a=new Jb(a),
Kb[a.Da]=a,this.g=a.Da)};function Cb(){oa.call(this)}C(Cb,oa);Cb.prototype.message="Deferred has already fired";Cb.prototype.name="AlreadyCalledError";function Jb(a){this.Da=r.setTimeout(ia(this.b,this),0);this.a=a}Jb.prototype.b=function(){delete Kb[this.Da];throw this.a;};var Kb={};function Gb(a){var b=Kb[a];b&&(r.clearTimeout(b.Da),delete Kb[a])};function F(a){oa.call(this,a);this.name="ydn.error.ArgumentException"}C(F,oa);function Lb(a){oa.call(this,a);this.name="ydn.error.TypeError"}C(Lb,oa);function Mb(a){oa.call(this,a);this.name="ydn.error.NotSupportedException"}C(Mb,oa);function Nb(a){oa.call(this,a);this.name="ydn.error.NotImplementedException"}C(Nb,oa);function Ob(a){oa.call(this,a);this.name="ydn.error.InvalidOperationException"}C(Ob,oa);
function Pb(a){Error.captureStackTrace?Error.captureStackTrace(this,Pb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}C(Pb,Error);Pb.prototype.name="ydn.error.InternalError";function Qb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Rb(a,b){for(var c=v(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var Sb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Sb.length;f++)c=Sb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ub="StopIteration"in r?r.StopIteration:Error("StopIteration");function Vb(){}Vb.prototype.next=function(){throw Ub;};Vb.prototype.Oa=function(){return this};function Wb(a){if(a instanceof Vb)return a;if("function"==typeof a.Oa)return a.Oa(!1);if(v(a)){var b=0,c=new Vb;c.next=function(){for(;;){if(b>=a.length)throw Ub;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Xb(a,b){if(v(a))try{jb(a,b,void 0)}catch(c){if(c!==Ub)throw c;}else{a=Wb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(d){if(d!==Ub)throw d;}}};function Yb(a,b){this.b={};this.a=[];this.d=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)Zb(this,arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof Yb)e=a.pa(),d=a.Xa();else{var c=[],f=0;for(e in a)c[f++]=e;e=c;c=[];f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)Zb(this,e[c],d[c])}}l=Yb.prototype;l.wb=function(){return this.c};l.Xa=function(){$b(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};
l.pa=function(){$b(this);return this.a.concat()};l.clear=function(){this.b={};this.d=this.c=this.a.length=0};function $b(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}l.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.b,a)?this.b[a]:b};
function Zb(a,b,c){Object.prototype.hasOwnProperty.call(a.b,b)||(a.c++,a.a.push(b),a.d++);a.b[b]=c}l.forEach=function(a,b){for(var c=this.pa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};l.C=function(){return new Yb(this)};l.Oa=function(a){$b(this);var b=0,c=this.a,d=this.b,e=this.d,f=this,g=new Vb;g.next=function(){for(;;){if(e!=f.d)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw Ub;var g=c[b++];return a?g:d[g]}};return g};var ac;a:{var bc=r.navigator;if(bc){var cc=bc.userAgent;if(cc){ac=cc;break a}}ac=""}function dc(a){return-1!=ac.indexOf(a)};var ec=dc("Opera")||dc("OPR"),fc=dc("Trident")||dc("MSIE"),gc=dc("Gecko")&&-1==ac.toLowerCase().indexOf("webkit")&&!(dc("Trident")||dc("MSIE")),hc=-1!=ac.toLowerCase().indexOf("webkit");function ic(){var a=r.document;return a?a.documentMode:void 0}
var jc=function(){var a="",b;if(ec&&r.opera)return a=r.opera.version,da(a)?a():a;gc?b=/rv\:([^\);]+)(\)|;)/:fc?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:hc&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(ac))?a[1]:"");return fc&&(b=ic(),b>parseFloat(a))?String(b):a}(),kc={};
function lc(a){var b;if(!(b=kc[a])){b=0;for(var c=String(jc).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var q=k.exec(g)||["","",""],n=m.exec(h)||["","",""];if(0==q[0].length&&0==n[0].length)break;b=Fa(0==q[1].length?0:parseInt(q[1],10),0==n[1].length?0:parseInt(n[1],10))||Fa(0==q[2].length,0==n[2].length)||
Fa(q[2],n[2])}while(0==b)}b=kc[a]=0<=b}return b}var mc=r.document,nc=mc&&fc?ic()||("CSS1Compat"==mc.compatMode?parseInt(jc,10):5):void 0;function oc(a){var b;b||(b=pc(a||arguments.callee.caller,[]));return b}
function pc(a,b){var c=[];if(qb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(qc(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=qc(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(pc(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function qc(a){if(rc[a])return rc[a];a=String(a);if(!rc[a]){var b=/function ([^\(]+)/.exec(a);rc[a]=b?b[1]:"[Anonymous]"}return rc[a]}var rc={};function sc(a,b,c,d,e){"number"==typeof e||tc++;this.f=d||ka();this.e=a;this.d=b;this.c=c;delete this.b;delete this.a}sc.prototype.b=null;sc.prototype.a=null;var tc=0;function uc(a){this.f=a;this.a=this.d=this.b=this.c=null}function vc(a,b){this.name=a;this.value=b}vc.prototype.toString=function(){return this.name};var wc=new vc("SHOUT",1200),xc=new vc("SEVERE",1E3),yc=new vc("WARNING",900),zc=new vc("INFO",800),Ac=new vc("CONFIG",700),Bc=new vc("FINE",500),Cc=new vc("FINER",400),Dc=new vc("FINEST",300),Ec=[new vc("OFF",Infinity),wc,xc,yc,zc,Ac,Bc,Cc,Dc,new vc("ALL",0)],Fc=null;uc.prototype.getName=function(){return this.f};
function Gc(a){if(a.b)return a.b;if(a.c)return Gc(a.c);Ha("Root logger has no level set.");return null}uc.prototype.log=function(a,b,c){if(a.value>=Gc(this).value)for(da(b)&&(b=b()),a=this.e(a,b,c,uc.prototype.log),b="log:"+a.d,r.console&&(r.console.timeStamp?r.console.timeStamp(b):r.console.markTimeline&&r.console.markTimeline(b)),r.msWriteProfilerMark&&r.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.a)for(var e=0,f=void 0;f=c.a[e];e++)f(d);b=b.c}};
uc.prototype.e=function(a,b,c,d){a=new sc(a,String(b),this.f);if(c){a.b=c;var e;d=d||uc.prototype.e;try{var f;var g=aa("window.location.href");if(w(c))f={message:c,name:"Unknown error",lineNumber:"Not available",fileName:g,stack:"Not available"};else{var h,k;b=!1;try{h=c.lineNumber||c.nc||"Not available"}catch(m){h="Not available",b=!0}try{k=c.fileName||c.filename||c.sourceURL||r.$googDebugFname||g}catch(q){k="Not available",b=!0}f=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:h,fileName:k,stack:c.stack||"Not available"}}e="Message: "+ta(f.message)+'\nUrl: <a href="view-source:'+f.fileName+'" target="_new">'+f.fileName+"</a>\nLine: "+f.lineNumber+"\n\nBrowser stack:\n"+ta(f.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ta(oc(d)+"-> ")}catch(n){e="Exception trying to expose exception! You win, we lose. "+n}a.a=e}return a};var Hc={},Ic=null;function Jc(){Ic||(Ic=new uc(""),Hc[""]=Ic,Ic.b=Ac)}
function Kc(){Jc();return Ic}function G(a){Jc();var b;if(!(b=Hc[a])){b=new uc(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=G(a.substr(0,c));c.d||(c.d={});c.d[d]=b;b.c=c;Hc[a]=b}return b};function Lc(a,b,c){a&&a.log(b,c,void 0)}function Mc(a,b){a&&a.log(xc,b,void 0)}function I(a,b){a&&a.log(yc,b,void 0)}function Nc(a,b){a&&a.log(Bc,b,void 0)};function J(a,b){a&&a.log(Dc,b,void 0)}function K(a,b){a&&a.log(Cc,b,void 0)};function Oc(a,b){D.call(this,0,b);this.f=[]}C(Oc,D);Oc.prototype.Ia=function(a,b){this.f.push([a,b]);return this};function Pc(a,b){for(var c=0;c<a.f.length;c++)a.f[c][0].call(a.f[c][1],b)}Oc.prototype.o=function(a){this.f.length=0;Oc.t.o.call(this,a)};Oc.prototype.m=function(a){this.f.length=0;Oc.t.m.call(this,a)};var Qc={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},Rc=r.IDBRequest&&"LOADING"in r.IDBRequest?r.IDBTransaction:r.webkitIDBRequest&&"LOADING"in r.webkitIDBRequest&&1===r.webkitIDBTransaction.READ_WRITE?r.webkitIDBTransaction:Qc,Sc=Rc.READ_ONLY,L=Rc.READ_WRITE,Tc=Rc.VERSION_CHANGE,Uc=r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.moz_indexedDB||r.msIndexedDB;D.prototype.done=D.prototype.I;D.prototype.fail=D.prototype.qb;D.prototype.always=D.prototype.ha;Oc.prototype.then=Oc.prototype.then;function Vc(a,b){var c,d;2==arguments.length&&w(arguments[1])?(c=!0,d=arguments[1].split(".")):d=(c=v(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}function Wc(a,b,c){if(a)if(-1==b.indexOf("."))a[b]=c;else{b=b.split(".");for(var d=b.pop(),e;e=b.shift();)y(a[e])||(a[e]={}),a=a[e];a[d]=c}}var Xc={};
function Yc(a){a=[a];for(var b=new Zc,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(Xc);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if("number"===d)c+=1,b.write(c),$c(b,e);else if(e instanceof Date)c+=2,b.write(c),$c(b,e.valueOf());else if("string"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>
2|255,(f|3)<<6)}c.write(0)}else if(e===Xc)b.write(0);else return"";c=0}return b.trim().toString()}function ad(a){for(var b=[],c=b,d=[],e,f,g=new bd(a);null!=cd(g);)if(0===g.a)c=d.pop();else{if(null===g.a)break;do{e=g.a/4|0;a=g.a%4;for(var h=0;h<e;h++)f=[],c.push(f),d.push(c),c=f;if(0===a&&12<g.a+4)cd(g);else break}while(1);1===a?c.push(dd(g)):2===a?c.push(new Date(dd(g))):3===a?c.push(ed(g)):0===a&&(c=d.pop())}return b[0]}
function $c(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>
8,c&255);c=e%65536;a.write(c>>8,c&255)}function dd(a){var b=cd(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=cd(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(cd(a)|0):cd(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}
function ed(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=cd(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join("")}function bd(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function cd(a){return a.a=a.index<a.c?parseInt(a.b[++a.index]+a.b[++a.index],16):null}function Zc(){this.a=[];this.b=void 0}
Zc.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b="0"+this.b)};Zc.prototype.trim=function(){for(var a=this.a.length;"00"===this.a[--a];);this.a.length=++a;return this};Zc.prototype.toString=function(){return this.a.length?this.a.join(""):""};function fd(a,b){var c=Yc(a),d=Yc(b);return c>d?1:c==d?0:-1};function M(a,b,c){Oc.call(this,0,c);this.l=a;this.f=[];this.r=[];this.la=[];this.a=null;this.ma="";this.O=0}C(M,Oc);l=M.prototype;l.ma="";l.logger=G("ydn.db.Request");function gd(a,b,c){a.a=b;a.ma=c;K(a.logger,a+" BEGIN");if(b){for(c=0;c<a.r.length;c++)a.r[c][0].call(a.r[c][1],b);a.r.length=0}K(a.logger,a+" END")}function hd(a){var b=new M(a.l);a.O++;gd(b,a.a,a.ma+"C"+a.O);return b}l.Qb=function(){return!!this.a};
l.abort=function(){K(this.logger,this+" aborting "+this.a);if(this.a)if(da(this.a.abort))this.a.abort();else if(da(this.a.executeSql))this.a.executeSql("ABORT",[],function(){},function(){return!0});else throw new Mb;else throw new id(this+" No active transaction");};function N(a,b,c){var d=a.la.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){N(a,b,c)}):c?a.m(b):a.o(b)}function jd(a,b,c){a.la.push([b,c])}function O(a,b,c){a.a?b.call(c,a.a):a.r.push([b,c])}
l.o=function(a){K(this.logger,this+" SUCCESS");M.t.o.call(this,a)};l.m=function(a){K(this.logger,this+" ERROR");M.t.m.call(this,a)};function P(a){var b="";a.ma&&(b=a.a?"*":"",b="["+a.ma+b+"]");return a.l+b}function kd(a,b){var c=new M(a);N(c,b);return c}l.fc=function(){return this};l.toString=function(){return"Request:"+P(this)};
l.Ua=function(){this.g&&this.c&&Fb(this)&&(Gb(this.g),this.g=0);this.d&&(this.d.u--,delete this.d);for(var a=this.e,b=!1;this.i.length&&!this.j;){var c=this.i.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.Y,a),t(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.e=a=d),na(a)&&(this.j=b=!0)}this.e=a;b&&(b=ia(this.za,this,!0),d=ia(this.za,this,!1),a instanceof D?(Eb(a,b,d),a.G=!0):a.then(b,d))};
l.toJSON=function(){var a=(this.ma||"").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/)||[];return{method:this.l?this.l.split(":"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var ld=Uc&&Uc.cmp?ia(Uc.cmp,Uc):fd,md=[];function nd(){0!=od&&(pd[this[ea]||(this[ea]=++fa)]=this)}var od=0,pd={};nd.prototype.Ia=!1;nd.prototype.Sa=function(){if(!this.Ia&&(this.Ia=!0,this.W(),0!=od)){var a=this[ea]||(this[ea]=++fa);delete pd[a]}};nd.prototype.W=function(){if(this.Ja)for(;this.Ja.length;)this.Ja.shift()()};function qd(a,b){this.type=a;this.b=this.target=b;this.Gb=!0}qd.prototype.Sa=function(){};qd.prototype.preventDefault=function(){this.Gb=!1};function rd(a,b){qd.call(this,a,b)}C(rd,qd);rd.prototype.h=function(){return this.a};function sd(a,b,c,d,e){qd.call(this,a,b);this.version=c;this.Nb=d;this.Cb=e}C(sd,rd);l=sd.prototype;l.name="ReadyEvent";l.version=NaN;l.Nb=NaN;l.Cb=null;l.jc=function(){return this.version};l.Sb=function(){return this.Nb};l.Rb=function(){return this.Cb};function td(a,b,c){qd.call(this,c||"error",a);this.error=b}C(td,rd);td.prototype.toString=function(){return this.name+":"+(this.error?this.error:"")};
td.prototype.name="ErrorEvent";td.prototype.error=null;td.prototype.c=function(){return this.error};function vd(a,b){td.call(this,a,b,"fail")}C(vd,td);vd.prototype.name="FailEvent";function wd(a,b,c,d,e){qd.call(this,a,b);this.a=c;this.key=d;this.value=e}C(wd,rd);wd.prototype.name="RecordEvent";wd.prototype.c=function(){return this.key};wd.prototype.w=function(){return this.value};function xd(a,b,c,d,e){qd.call(this,a,b);this.a=c;this.keys=d;this.D=e}C(xd,rd);xd.prototype.name="StoreEvent";
xd.prototype.pa=function(){return this.keys};xd.prototype.Xa=function(){return this.D};function yd(a,b,c){var d;if(y(a))d=a.store,b=a.id,null!=a.parent&&(c=new yd(a.parent));else if(t(b))d=a;else if(d=a.lastIndexOf("^|"),b=a,0<d&&(b=a.substr(d),c=new yd(a.substring(0,d))),b=b.split("^:"),d=b[0],b=b[1],!t(b))throw Error("Invalid key value: "+a);this.a=d;this.id=b;this.parent=c||null}l=yd.prototype;l.toJSON=function(){var a={store:this.a,id:this.id};this.parent&&(a.parent=this.parent.toJSON());return a};
l.valueOf=function(){return(this.parent?this.parent.valueOf()+"^|":"")+this.a+"^:"+this.id};l.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")};l.h=function(){return this.a};l.bc=function(){return this.id};function zd(a){return u(a.id)?a.id.join("^|"):a.id instanceof Date?+a.id:a.id}l.cc=function(){return this.parent};function Ad(a){return x(a)||w(a)||u(a)&&nb(a,Ad)||a instanceof Date}
function Bd(a){if(v(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function Q(a,b,c,d){this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d;da(Object.freeze)&&Object.freeze(this)}Q.prototype.lower=void 0;Q.prototype.upper=void 0;Q.prototype.toJSON=function(){return Cd(this)};function Dd(a){return Ed(a)}Q.only=function(a){return new Q(a,a,!1,!1)};Q.bound=function(a,b,c,d){return new Q(a,b,c,d)};Q.upperBound=function(a,b){return new Q(void 0,a,void 0,!!b)};Q.lowerBound=function(a,b){return new Q(a,void 0,!!b,void 0)};
function Fd(a){var b;if(u(a))b=sb(a),b.push("\uffff");else if(w(a))b=a+"\uffff";else if(x(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return Q.only(a);return Q.bound(a,b,!1,!0)}function Cd(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}
function Ed(a){return null!=a?null!=a.upper&&null!=a.lower?Gd.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?Gd.upperBound(a.upper,a.upperOpen):null!=a.lower?Gd.lowerBound(a.lower,a.lowerOpen):null:null}function Hd(a){if(a instanceof Q)return"";if(null!=a){if(y(a)){for(var b in a)if(a.hasOwnProperty(b)&&!qb(["lower","upper","lowerOpen","upperOpen"],b))return'invalid attribute "'+b+'" in key range object';return""}return"key range must be an object"}return""}
Q.prototype.$=function(a){var b=this.lower,c=this.upper,d=this.lowerOpen,e=this.upperOpen;null!=a.lower&&(null==this.lower||a.lower>=this.lower)&&(b=a.lower,d=a.lowerOpen||this.lowerOpen);null!=a.upper&&(null==this.upper||a.upper<=this.upper)&&(c=a.upper,e=a.upperOpen||this.upperOpen);return Q.bound(b,c,d,e)};function Id(a){if(!a)return"";var b=a.lowerOpen?"(":"[";null!=a.lower&&(b+=a.lower+", ");null!=a.upper&&(b+=a.upper);return b+=a.upperOpen?")":"]"}
function Jd(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==ld(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?" > ":" >= ";d.push(a+f+"?");e.push(Kd(c.lower,b))}null!=c.upper&&(f=c.upperOpen?" < ":" <= ",d.push(a+f+"?"),e.push(Kd(c.upper,b)))}else d.push(a+" = ?"),e.push(Kd(c.lower,b))}
function Ld(a,b,c,d){var e,f,g,h;if("starts"==a||"^"==a)return Fd(b);if("<"==a||"<="==a)e=b,g="<"==a;else if(">"==a||">="==a)f=b,h=">"==a;else if("="==a||"=="==a)e=f=b;else throw new F("invalid op: "+a);if("<"==c||"<="==c)e=d,g="<"==c;else if(">"==c||">="==c)f=d,h=">"==c;else if(t(c))throw new F("invalid op2: "+c);return Q.bound(f,e,h,g)}var Gd=r.IDBKeyRange||r.webkitIDBKeyRange||Q;function Md(a,b,c,d,e,f){t(e)||(e=u(a)?a.join(", "):a);if(null!=a&&!w(a)&&!v(a))throw new F("index keyPath for "+e+" must be a string or array, but "+a+" is "+typeof a);u(a)&&Object.freeze&&Object.freeze(a);!t(a)&&t(e)&&(a=e);this.keyPath=a;this.f=v(this.keyPath);this.b=e;this.type=Nd(b);if(t(b)){if(!t(this.type))throw new F("type invalid in index: "+this.b);if(u(this.keyPath))throw new F('composite key for store "'+this.b+'" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.g=w(this.type)?
this.type:Od;this.d=w(e)?e:u(a)?this.keyPath.join(","):a;this.c=Ea(this.d);this.a=this.f?null:this.keyPath.split(".");this.e=f||null}var Od="TEXT";function Kd(a,b){if("DATE"==b){if(a instanceof Date)return+a}else return null!=b?a:Yc(a)}function Pd(a,b){return"DATE"==b?new Date(a):t(b)?a:ad(a)}var Qd=["BLOB","DATE","INTEGER","NUMERIC",Od];function Nd(a){if(w(a))return a=ib(Qd,a),Qd[a]}l=Md.prototype;l.getName=function(){return this.b};
l.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};l.C=function(){var a=u(this.keyPath)?sb(this.keyPath):this.keyPath;return new Md(a,this.type,this.unique,this.multiEntry,this.b,this.e)};function Rd(a,b){return null!=a||null!=b?null!=a?null!=b?v(a)&&v(b)?vb(a,b)?null:"expect: "+a+", but: "+b:Sd(a,b)?null:"expect: "+a+", but: "+b:"keyPath: "+a+" no longer defined":"newly define "+b:null}
l.hint=function(a){if(!a)return this;var b=u(this.keyPath)?sb(this.keyPath):this.keyPath,c=this.type;t(a.type)||"TEXT"!=c||(c=void 0);return new Md(b,c,this.unique,this.multiEntry,a.b)};l.toString=function(){var a=this.multiEntry?"MultiEntry":"";this.a&&1<this.a.length&&(a+="Compound");return a+"Index:"+this.b};function Td(a,b,c,d,e,f,g,h){this.c=a;if(!w(this.c))throw new F("store name must be a string");this.keyPath=t(b)?b:null;this.i=v(this.keyPath);if(null!==this.keyPath&&!w(this.keyPath)&&!this.i)throw new F("keyPath must be a string or array");this.b=c;var k;if(null!=d){k=Nd(d);if(!t(k))throw new F('type "'+d+'" for primary key in store "'+this.c+'" is invalid.');if(this.i)throw new F('composite key for store "'+this.c+'" must not specified type');}this.type=null!=k?k:this.b?"INTEGER":void 0;this.f=
w(this.keyPath)?this.keyPath.split("."):[];this.a=e||[];this.aa=!!f;this.ga=!!g;this.l=w(this.type)?this.type:Od;this.e=u(this.keyPath)?this.keyPath.join(","):w(this.keyPath)?this.keyPath:"_ROWID_";this.d=Ea(this.e);if(this.j=!!h){if(this.keyPath)throw new F('encrypted store "'+this.c+'" must not use inline key');if(this.b)throw new F('encrypted store "'+this.c+'" must not use key generator');}this.g=[]}l=Td.prototype;l.aa=!1;l.ga=!1;
l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.c,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};
function Ud(a){var b="name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted".split(" "),c;for(c in a)if(a.hasOwnProperty(c)&&-1==ib(b,c))throw new F('Unknown attribute "'+c+'"');b=[];c=a.indexes||[];if(u(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f="name unique type keyPath multiEntry generator".split(" "),g=void 0;for(g in e)if(e.hasOwnProperty(g)&&-1==ib(f,g))throw new F("Unknown field: "+g+" in "+S(e));e=new Md(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);
t(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Td(a.name,a.keyPath,a.autoIncrement,"undefined"===a.type||"null"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}function Vd(a,b,c,d,e,f,g){a=Wd(a,b,c,d,e,f,g);b="";0!=c&&(b+="SELECT "+a.select);b+=" FROM "+a.M;a.n&&(b+=" WHERE "+a.n);a.group&&(b+=" GROUP BY "+a.group);a.N&&(b+=" ORDER BY "+a.N);return b}
function Wd(a,b,c,d,e,f,g){var h={select:"",M:"",n:"",group:"",N:""},k=a.e,m=a.d,q=null;d!==k&&w(d)&&(q=Xd(a,d));var n=!!q,p=d||k,s=Ea(p),z=n?q.type:a.type,A=n&&q.multiEntry;h.M=Yd(a);6===c?h.select="COUNT("+m+")":3===c||1===c||2===c?(h.select=m,null!=d&&d!=k&&(h.select+=", "+s)):h.select="*";d=g?"DISTINCT ":"";k=[];A?(A=Ea("ydn.db.me:"+a.getName()+":"+q.getName()),h.select=6===c?"COUNT("+d+A+"."+s+")":3===c||1===c||2===c?"DISTINCT "+Yd(a)+"."+m+", "+A+"."+s+" AS "+p:"DISTINCT "+Yd(a)+".*, "+A+"."+
s+" AS "+p,h.M=A+" INNER JOIN "+Yd(a)+" USING ("+m+")",null!=e&&(Jd(A+"."+s,z,e,k,b),0<k.length&&(h.n=h.n?h.n+(" AND "+k.join(" AND ")):k.join(" AND ")))):null!=e&&(Jd(s,z,e,k,b),0<k.length&&(h.n=h.n?h.n+(" AND "+k.join(" AND ")):k.join(" AND ")));n&&!q.unique&&g&&(h.group=s);a=f?"DESC":"ASC";h.N=s+" "+a;n&&(h.N+=", "+m+" "+a);return h}
function Zd(a,b,c,d,e,f,g,h,k){var m,q,n,p;null!=e?(m=e.lower,q=e.upper,n=e.lowerOpen,p=e.upperOpen,f?null!=q?(e=ld(h,q),-1==e?(q=h,p=k):0==e&&(p=k||p)):(q=h,p=k):null!=m?(e=ld(h,m),1==e?(m=h,n=k):0==e&&(n=k||n)):(m=h,n=k)):f?(q=h,p=k):(m=h,n=k);e=new Q(m,q,!!n,!!p);d=d?Xd(a,d):null;b=Wd(a,c,b,d?d.d:a.e,e,f,g);b="SELECT "+b.select+" FROM "+b.M+(b.n?" WHERE "+b.n:"")+(b.group?" GROUP BY "+b.group:"")+" ORDER BY "+b.N;d&&(b+=", "+a.d+(f?"DESC":"ASC"));return b}
function $d(a,b,c,d,e,f,g,h,k,m){var q=Xd(a,d),n=q.d;d=q.c;var p=a.d,s=k?" <":" >",s=g?s+" ":s+"= ";g=Kd(f,q.type);h=Kd(h,a.type);q="";e?(a=Wd(a,c,b,n,e,k,m),a.n+=" AND ",q=d+s+"?",c.push(g)):(e=k?Q.upperBound(f,!0):Q.lowerBound(f,!0),a=Wd(a,c,b,n,e,k,m),q=a.n,a.n="");a.n+="("+q+" OR ("+d+" = ? AND "+p+s+"?))";c.push(g);c.push(h);return"SELECT "+a.select+" FROM "+a.M+" WHERE "+a.n+(a.group?" GROUP BY "+a.group:"")+" ORDER BY "+a.N}l.C=function(){return Ud(this.toJSON())};
l.index=function(a){return this.a[a]||null};function Xd(a,b){return ob(a.a,function(a){return a.getName()==b})}function ae(a,b){for(var c=0;c<a.a.length;c++)if(!Rd(a.a[c].keyPath,b))return a.a[c];return null}function be(a,b){return b===a.keyPath?!0:mb(a.a,function(a){return a.getName()==b})}function Yd(a){return Ea(a.c)}
function ce(a,b){if(!b)return a;var c=a.b,d=u(a.keyPath)?sb(a.keyPath):a.keyPath,e=a.type,f=lb(a.a,function(a){return a.C()});t(b.type)||"TEXT"!=e||(e=void 0);u(b.keyPath)&&w(d)&&d==b.keyPath.join(",")&&(d=sb(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].f)for(var k=b.a[g].getName(),m=f.length-1;0<=m;m--)if(0<=k.indexOf(f[m].getName())){f[m]=b.a[g].C();break}for(g=0;g<f.length;g++)(h=Xd(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new Td(b.c,d,c,e,f)}l.getName=function(){return this.c};
function de(a){return!!a.keyPath}function ee(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.i){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(Vc(b,a.keyPath[d]));return c}if(a.keyPath)return Rb(b,a.f)}}function fe(a,b,c){for(var d=0;d<a.f.length;d++){var e=a.f[d];if(d==a.f.length-1){b[e]=c;break}t(b[e])||(b[e]={});b=b[e]}}
function ge(a,b,c){var d=[],e=[];c=t(c)?c:ee(a,b);t(c)&&(e.push(a.d),d.push(Kd(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&"_default_"!=g.getName()){var h;h=g;var k=b;if(null!=k)if(v(h.keyPath)){for(var m=[],q=0,n=h.keyPath.length;q<n;q++){var p=Vc(k,h.keyPath[q]);m[q]=p}h=m}else h=Vc(k,h.keyPath);else h=void 0;null!=h&&(d.push(Kd(h,g.type)),e.push(g.c))}}a.ga?a.ga&&!a.keyPath&&0==a.a.length&&(w(b)&&-1==b.indexOf(";base64,")?d.push(b):d.push(S(b)),
e.push("_default_")):(d.push(S(b)),e.push("_default_"));a=[];for(f=d.length-1;0<=f;f--)a[f]="?";return{vb:e,Hb:a,D:d,key:c}}
function he(a,b){if(!b)return"missing store: "+a.c;if(a.c!=b.c)return"store name, expect: "+a.c+", but: "+b.c;var c=Rd(a.keyPath,b.keyPath);if(c)return"keyPath, "+c;if(t(a.b)&&t(b.b)&&a.b!=b.b)return"autoIncrement, expect:  "+a.b+", but: "+b.b;if(a.a.length!=b.a.length)return"indexes length, expect:  "+a.a.length+", but: "+b.a.length;if(t(a.type)&&t(b.type)&&(v(a.type)?!vb(a.type,b.type):a.type!=b.type))return"data type, expect:  "+a.type+", but: "+b.type;for(c=0;c<a.a.length;c++){var d=Xd(b,a.a[c].getName()),
e;e=a.a[c];if(d)if(e.b!=d.b)e="name, expect: "+e.b+", but: "+d.b;else{var f=Rd(e.keyPath,d.keyPath);e=f?"keyPath, "+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?"unique, expect: "+e.unique+", but: "+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?"multiEntry, expect: "+e.multiEntry+", but: "+d.multiEntry:t(e.type)&&t(d.type)&&(v(e.type)?!vb(e.type,d.type):e.type!=d.type)?"data type, expect: "+e.type+", but: "+d.type:""}else e="no index for "+e.b;if(0<e.length)return'index "'+
a.a[c].getName()+'" '+e}return""}function ie(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.e){var f=d.e(e),g=typeof f;if("string"==g||"number"==g||f instanceof Date||u(f)){for(g=0;g<d.a.length-1;g++)y(e[d.a[g]])||(e[d.a[g]]={});e[d.a[d.a.length-1]]=f}}}}function je(a,b){a.g.push(b)}function ke(a,b,c,d,e){for(var f=0;f<a.g.length;f++)d!==f&&a.g[f].call(e,b,c)}l.toString=function(){return"Store:"+this.c+"["+this.a.length+"index]"};G("ydn");function le(a){return!w(a)||ra(a)?{}:JSON.parse(a)}function me(a){var b;try{b=S(a)}catch(c){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""}function S(a){return JSON.stringify(a,void 0,void 0)};function ne(a,b,c){if(!a||ra(a))throw new F("store_name must be provided for primary full text index");if(!b||ra(b))throw new F("index_name must be provided for primary full text index");this.a=a;this.b=b;this.c=c||1}ne.prototype.h=function(){return this.a};function oe(a,b,c,d){this.name=a;this.b=b;this.c=c||"";if(-1==["","en","fr"].indexOf(this.c))throw new F('Unsupported lang "'+c+" for full text search index "+a);this.d=d||null;this.a=null}oe.prototype.getName=function(){return this.name};oe.prototype.count=function(){return this.b.length};oe.prototype.index=function(a){return this.b[a]};function pe(a,b,c){return ob(a.b,function(a){return a.h()==b&&a.b==c})}
function qe(a){var b=["name","sources","lang"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==ib(b,c))throw new F("Unknown field: "+c+" in "+S(a));if(!u(a.sources))throw new F("indexes require for full text search index "+a.name+", but "+a.sources+" of type "+typeof a.sources+" found.");b=a.sources.map(function(a){var b=["storeName","keyPath","weight"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==ib(b,c))throw new F("Unknown field: "+c+" in "+me(a));return new ne(a.storeName,a.keyPath,a.weight)});return new oe(a.name,
b,a.lang)};function re(a,b){var c,d,e=b;if(y(a)){d=a;c=["version","stores","fullTextCatalogs"];for(var f in d)if(d.hasOwnProperty(f)&&-1==ib(c,f))throw new F("Unknown field: "+f+" in schema.");c=d.version;var e=[],g=d.stores||[];if(!u(g))throw new F("stores must be array");for(f=0;f<g.length;f++){var h=Ud(g[f]);if(-1!=pb(e,function(a){return a.name==h.getName()}))throw new F('duplicate store name "'+h.getName()+'".');e.push(h)}}else w(a)?c=0==a.length?void 0:parseFloat(a):x(a)&&(c=a);if(t(c)){if(!x(c)||0>c)throw new F("Invalid version: "+
c+" ("+a+")");isNaN(c)&&(c=void 0)}if(t(b)&&(!u(b)||0<b.length&&!(b[0]instanceof Td)))throw new F("stores");this.version=c;this.b=!t(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(f=0;f<d.fullTextCatalogs.length;f++)e=qe(d.fullTextCatalogs[f]),c[f]=e,T(this,e.getName())||(g=[new Md("k",Od),new Md("v",Od)],e=new Td(e.getName(),"id",!1,void 0,g,!1,!1,!1),this.stores.push(e));this.c=c}
re.prototype.toJSON=function(){var a=lb(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;t(this.version)&&(b.version=this.version);return b};re.prototype.b=!1;re.prototype.a=function(){return!1};function se(a){return lb(a.stores,function(a){return a.getName()})}re.prototype.count=function(){return this.stores.length};function T(a,b){return ob(a.stores,function(a){return a.getName()==b})}function te(a,b){return mb(a.stores,function(a){return a.getName()==b})}
function ue(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return"Number of store: "+a.stores.length+" vs "+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=T(b,a.stores[e].getName());if(f){c&&(f=ce(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var m=h.a[k];be(g,m.getName())||"BLOB"!=m.type||(m=new Md(m.keyPath,m.type,m.unique,m.multiEntry,m.getName()),g.a.push(m))}f=he(a.stores[e],f);if(0<f.length)return'store: "'+a.stores[e].getName()+'" '+f}else return'missing object store "'+
a.stores[e].getName()+'"'}return""}function ve(a,b){return ob(a.c,function(a){return a.getName()==b})};function we(a,b){re.call(this,a,b)}C(we,re);we.prototype.a=function(){return!0};function xe(a,b){a.stores.push(b)};function ye(a){Error.captureStackTrace?Error.captureStackTrace(this,ye):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ArgumentException"}C(ye,Error);function ze(a){Error.captureStackTrace?Error.captureStackTrace(this,ze):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.NotSupportedException"}C(ye,Error);ze.prototype.name="ydn.error.NotSupportedException";
function Ce(a){Error.captureStackTrace?Error.captureStackTrace(this,Ce):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.NotImplementedException"}C(Ce,Error);function De(a){Error.captureStackTrace?Error.captureStackTrace(this,De):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}C(De,Error);De.prototype.name="ydn.InternalError";
function Ee(a){Error.captureStackTrace?Error.captureStackTrace(this,Ee):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ConstraintError"}C(Ee,Error);Ee.prototype.name="ydn.error.ConstraintError";function Fe(a){Error.captureStackTrace?Error.captureStackTrace(this,Fe):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InvalidOperationException"}C(ye,Error);
function Ge(a){Error.captureStackTrace?Error.captureStackTrace(this,Ge):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InvalidOperationError"}C(Ge,Error);function Sd(a,b){var c;c=c||{};if(null!=a&&null!=b){if(v(a)&&v(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==ob(b,function(b){return Sd(b,a[d])}))return!1;return!0}if(v(a))return 1==a.length&&Sd(a[0],b);if(v(b))return 1==b.length&&Sd(b[0],a);if(y(a)&&y(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=Sd(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=Sd(a[e],b[e]),!f))return!1;return!0}return a===b}return!1}
function He(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return a[b]};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function V(a,b,c){c=c||{};var d="autoSchema connectionTimeout size mechanisms policy isSerial Encryption".split(" "),e;for(e in c)if(c.hasOwnProperty(e)&&-1==ib(d,e))throw new F('Unknown attribute "'+e+'" in options.');if(c.mechanisms){if(!u(c.mechanisms))throw new F("mechanisms attribute must be an array but "+ba(c.mechanisms)+" found.");for(e=0;e<c.mechanisms.length;e++)if(!qb(Ie,c.mechanisms[e]))throw new F('Invalid mechanism "'+c.mechanisms[e]+'"');}this.r=c.mechanisms||Ie;this.i=c.size;this.u=
t(c.connectionTimeout)?c.connectionTimeout:3E3;this.c=null;this.d=[];this.Ea=!1;var f;if(b instanceof re)f=b;else if(y(b))for(c.autoSchema||!t(b.stores)?f=new we(b):f=new re(b),c=b.stores?b.stores.length:0,e=0;e<c;e++)d=T(f,b.stores[e].name),b.stores[e].Sync&&I(this.logger,"Synchronization option for "+d.getName()+" ignored.");else f=new we;this.b=f;for(e=0;e<this.b.count();e++)if((this.b.stores[e]||null).j)throw Error("encryption option must be defined");t(a)&&this.l(a);this.f=null;this.e=new D}
V.prototype.logger=G("ydn.db.con.Storage");V.prototype.A=function(a){if(t(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.c)this.c.Z(b);else{var c=this;this.transaction(function(a){c.c.Z(b,a)},null,Sc)}}return this.b?this.b.toJSON():null};V.prototype.l=function(a){if(this.c)throw new Ob("Already connected with "+this.g);this.g=a;Je(this)};V.prototype.getName=function(){return this.g};var Ie="indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" ");l=V.prototype;l.Ra=function(){return null};
function Je(a){function b(b,e){b?(J(a.logger,a+": ready."),a.xb=NaN,d.Ka=function(b){a.J(new td(a,b))},d.kb=function(b){a.J(new vd(a,b));a.c=null},d.ab=function(b){a.J(b)},setTimeout(function(){Ke(a,e);Le(a)},10),c.o(e)):(I(a.logger,a+": database connection fail "+e.name),setTimeout(function(){Ke(a,new vd(a,e));if(a.d){var b=a.logger;for(b&&b.log(zc,"Purging "+a.d.length+" transactions request.",void 0);b=a.d.shift();)b.H&&b.H("error",e)}},10),c.m(e))}for(var c=new D,d=null,e=a.r,f=0;f<e.length;f++){var g=
e[f].toLowerCase();if(d=a.Ra(g)){d=a.Ra(g);break}}null===d?(e=new Ee("No storage mechanism found."),b(!1,new vd(a,e))):Eb(d.ib(a.g,a.b),function(a){this.c=d;b(!0,new sd("ready",this,parseFloat(d.Mb()),parseFloat(a),null))},function(a){I(this.logger,this+": opening fail");b(!1,a)},a)}l.wa=function(){if(this.c)return this.c.Lb()};l.Ha=function(a,b){this.e.ha(a,b)};function Ke(a,b){setTimeout(function(){a.b.b&&a.e.c||(b instanceof td?a.e.m(b.error):a.e.o(),a.J(b))},4)}
function Me(a){return!!a.c&&a.c.jb()}l.close=function(){this.c&&(this.c.close(),this.c=null,J(this.logger,this+" closed"))};l.xb=NaN;function Le(a){var b=a.d.shift();b&&(J(a.logger,"pop tx queue["+(a.d.length+1)+"]"),a.transaction(b.Ca,b.Xb,b.mode,b.H));a.xb=ka()}
function Ne(a,b,c,d,e){J(a.logger,"push tx queue["+a.d.length+"]");a.d.push({Ca:b,Xb:c,mode:d,H:e});100<a.d.length&&0==a.d.length%100&&I(a.logger,"Transaction queue stack size is "+a.d.length+". It is too large, possibility due to incorrect usage.")}l.Ea=!1;
l.transaction=function(a,b,c,d){var e=b;if(w(b))e=[b];else if(null!=b)if(v(b)){if(0==b.length)throw new F("number of store names must more than 0");for(var f=0;f<b.length;f++)if(!w(b[f]))throw new F("store name at "+f+" must be string but found "+typeof b[f]);}else throw new F("store names must be an array");else e=null;if(this.c&&this.c.jb()&&!this.Ea){var g=this,h=t(c)?c:Sc;h==Tc&&(this.Ea=!0);this.c.Ta(function(b){a(b);a=null},e,h,function(a,b){da(d)&&(d(a,b),d=void 0);h==Tc&&(g.Ea=!1);Le(g)})}else Ne(this,
a,e,c,d)};l.rb=function(a){I(this.logger,"Full text indexer option for "+a.getName()+" ignored.")};l.J=function(){};l.toString=function(){return"Storage:"+this.c};V.prototype.close=V.prototype.close;V.prototype.getType=V.prototype.wa;V.prototype.getName=V.prototype.getName;V.prototype.getSchema=V.prototype.A;V.prototype.onReady=V.prototype.Ha;V.prototype.setName=V.prototype.l;V.prototype.transaction=V.prototype.transaction;la("ydn.db.version","1.0.2");la("ydn.db.cmp",ld);la("ydn.db.deleteDatabase",function(a,b){for(var c,d=0;d<md.length;d++){var e=md[d](a,b);e&&(c=e)}return c||kd("IDBVersionChangeEvent ",null)});sd.prototype.name=sd.prototype.name;
sd.prototype.getVersion=sd.prototype.jc;sd.prototype.getOldVersion=sd.prototype.Sb;sd.prototype.getOldSchema=sd.prototype.Rb;td.prototype.getError=td.prototype.c;M.prototype.abort=M.prototype.abort;M.prototype.canAbort=M.prototype.Qb;M.prototype.progress=M.prototype.Ia;M.prototype.promise=M.prototype.fc;function Oe(a){Error.captureStackTrace?Error.captureStackTrace(this,Oe):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ConstraintError"}C(Oe,Error);Oe.prototype.name="ConstraintError";Oe.prototype.toString=function(){return this.name+": "+this.message};function Pe(a){Error.captureStackTrace?Error.captureStackTrace(this,Pe):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.InvalidKeyException"}C(Pe,Error);
Pe.prototype.toString=function(){return this.name+": "+this.message};function Qe(a){Error.captureStackTrace?Error.captureStackTrace(this,Qe):this.stack=Error().stack||"";a&&(this.message=String(a))}C(Qe,Error);Qe.prototype.name="ydn.db.InternalError";function id(a){Error.captureStackTrace?Error.captureStackTrace(this,id):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidStateError"}C(id,Error);
function Re(a){Error.captureStackTrace?Error.captureStackTrace(this,Re):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidAccessError"}C(Re,Error);function Se(a){Error.captureStackTrace?Error.captureStackTrace(this,Se):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="NotFoundError"}C(Se,Error);Se.prototype.name="NotFoundError";Se.prototype.toString=function(){return this.name+": "+this.message};
function Te(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Te):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message+" ["+a.code+"]";this.name="SQLError"}C(Te,Error);Te.prototype.toString=function(){return this.name+": "+this.message};function Ue(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Ue):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message;this.name="SecurityError"}C(Ue,Error);
Ue.prototype.toString=function(){return this.name+": "+this.message};function Ve(a){Error.captureStackTrace?Error.captureStackTrace(this,Ve):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.SqlParseError"}C(Ve,Error);function We(a){Error.captureStackTrace?Error.captureStackTrace(this,We):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.TimeoutError"}C(We,Error);function Xe(a,b){this.a=b}Xe.prototype.logger=G("ydn.db.crud.req.RequestExecuto");Xe.prototype.toString=function(){return"RequestExecutor"};function Ye(a){this.c=a;this.a=null;this.b=0}Ye.prototype.logger=G("ydn.db.tr.Mutex");Ye.prototype.L=null;function Ze(a){return!!a.a&&!a.d}Ye.prototype.H=null;Ye.prototype.toString=function(){return"Mutex:"+("B"+this.c+"T"+this.b)+(this.a?"*":"")};function $e(a,b,c,d,e,f){this.A=a;this.G=b;this.a=this.d=0;this.u=d;this.r=e;this.e=c||af;this.i=f||0}$e.prototype.logger=G("ydn.db.tr.Thread");$e.prototype.type=function(){return this.A.wa()};$e.prototype.p=function(){return this.A};$e.prototype.F=function(){return"B"+this.G+"T"+this.d};var af="single";function bf(a){if(a)if(da(a.abort))a.abort();else if(da(a.executeSql))a.executeSql("ABORT",[],null,function(){return!0});else throw new Mb;else throw new id("No active transaction");};function cf(a,b,c,d,e,f){$e.call(this,a,b,c,d,e,f);this.c=[];this.f=[];this.g=null;this.b=new Ye(b);this.j=f||0;this.l=!1}C(cf,$e);l=cf.prototype;l.logger=G("ydn.db.tr.Serial");
function df(a,b,c){if("multi"==a.e)a:if(a=a.b,!a.L||!a.mode||c!=a.mode&&(a.mode!=L||c!=Sc)||b.length>a.L.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.L.indexOf(b[c])){b=!1;break a}b=!0}else if("repeat"==a.e)a:if(a=a.b,a.L&&a.mode&&c==a.mode&&a.L.length==b.length){for(c=0;c<b.length;c++)if(-1==a.L.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b="all"==a.e?!0:!1;return b}function ef(a){var b=0<a.c.length?a.c[0].L:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c?df(a,b,c):!1}
function ff(a,b,c,d,e){J(a.logger,"push tx queue["+a.c.length+"]");a.c.push({Ca:b,L:c,mode:d,H:e})}l.abort=function(){K(this.logger,this+": aborting");bf(this.g)};
l.da=function(a,b,c,d){var e=w(b)?[b]:b;if(v(e)){if(0==e.length)throw new F("number of store names must more than 0");for(var f=0;f<e.length;f++){if(!w(e[f]))throw new F("store name at "+f+" must be string but found "+e[f]+" of type "+typeof e[f]);if(this.O&&!qb(this.O,e[f]))throw new F('store name "'+f+e[f]+'" in scope of '+this);}}else throw new F("store names must be an array");var g=t(c)?c:Sc,h=this;if(this.b.a||!Me(this.p())&&this.l)ff(this,a,b,g,d);else{var k=this.F();d&&this.f.push(d);if(this.j&&
this.d>=this.j)throw new Ob("Exceed maximum number of transactions of "+this.j);this.l=!0;this.p().transaction(function(c){var d=h.b;d.a=c;d.d=!1;d.L=b;d.mode=g;d.b++;d.H=null;k=h.F();Nc(h.logger,k+" BEGIN "+S(b)+" "+g);a(h);for(a=null;ef(h);)c=h.c.shift(),c.H&&h.f.push(c.H),J(h.logger,"pop tx queue"+(h.c.length+1)+" reusing T"+h.d),c.Ca()},e,g,function(a,b){Nc(h.logger,k+" "+a);var c=h.b;c.a?(c.a=null,c.L=null,c.mode=null,da(c.H)&&c.H(a,b),c.H=null):I(c.logger,c+" has no TX to be unlocked for "+
a);for(c=0;c<h.f.length;c++)(0,h.f[c])(a,b);h.f.length=0;(c=h.c.shift())&&h.da(c.Ca,c.L,c.mode,c.H);h.a=0})}};l.F=function(){var a=this.b;return"B"+a.c+"T"+a.b};l.request=function(a,b,c,d){function e(a,b){f.a=null;d&&d(a,b)}var f=new M(a);a=c||Sc;var g=this;Ze(this.b)&&df(this,b,a)?(b=this.b.a,this.a++,gd(f,b,this.F()+"R"+this.a),this.f.push(e)):g.da(function(){var a=g.b.a;g.a++;gd(f,a,g.F()+"R"+g.a)},b,a,e);return f};
l.T=function(a,b,c,d,e){d=d||Sc;var f=this,g;if(Ze(f.b)&&df(this,c,d)){var h=f.b.a;f.a++;g=f.F()+"R"+f.a;K(f.logger,g+" BEGIN");b(h,g,function(b,c){f.g=h;c?(K(f.logger,g+" ERROR"),a.m(b)):(K(f.logger,g+" SUCCESS"),a.o(b));f.g=null});K(f.logger,g+" END");b=null}else f.da(function(){var c=f.b.a;f.a++;g=f.F()+"R"+f.a;K(f.logger,g+" BEGIN");b(c,g,function(b,d){f.g=c;d?(K(f.logger,g+" ERROR"),a.m(b)):(K(f.logger,g+" SUCCESS"),a.o(b));f.g=null});K(f.logger,g+" END");b=null},c,d,e)};l.getName=function(){return this.p().getName()};
l.toString=function(){return"Serial:"+this.F()+(this.g?"*":"")};function gf(a,b){cf.call(this,a,b)}C(gf,cf);gf.prototype.logger=G("ydn.db.tr.AtomicSerial");gf.prototype.request=function(a,b,c){var d,e,f,g=gf.t.request.call(this,a,b,c,function(a,b){g.a=null;if(d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new We;N(g,c,!0)}});jd(g,function(a,b,c){f=b;e=a;d=c});return g};
gf.prototype.T=function(a,b,c,d,e){var f,g,h=new D;Eb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});gf.t.T.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.m(c);else if(!0===g)a.m(f);else if(!1===g)a.o(f);else{var d=new We;a.m(d)}e&&(e(b,c),e=void 0)})};gf.prototype.toString=function(){return"Atomic"+gf.t.toString.call(this)};function hf(a,b,c,d){this.d=a;this.b=b;this.a=c;this.e=d;this.c=null}l=hf.prototype;l.logger=G("ydn.db.tr.DbOperator");l.kc=function(){return this.a.d};l.abort=function(){this.a.abort()};function W(a){if(!a.c){var b;b=a.d;var c=b.wa();if("indexeddb"==c)b=new jf(0,b.b);else if("websql"==c||"sqlite"==c)b=new kf(0,b.b);else throw new Pb("No executor for "+c);a.c=b}return a.c}l.p=function(){return this.d};
function lf(a,b){var c=a.p(),d=b instanceof Td?b:Ud(b),e=b.name,f=T(c.b,e);if(0==he(d,f).length)(new D).o(!1);else if(f=f?"update":"add",c.b instanceof we)xe(c.b,d),c.c?(c.c.close(),c.c=null,Je(c)):(new D).o(!1);else throw new Ee("Cannot "+f+" store: "+e+". Not auto schema generation mode.");}l.toString=function(){return"TxStorage:"+this.p().getName()};function mf(a,b,c,d){hf.call(this,a,b,c,d)}C(mf,hf);l=mf.prototype;l.logger=G("ydn.db.crud.DbOperator");
l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(u(a)){if(t(c)||t(b))throw new F("too many arguments.");f=a;for(var k=0;k<f.length;k++)if(!te(this.b,f[k]))throw new F('store name "'+f[k]+'" at '+k+" not found.");K(this.logger,"countStores: "+S(f));e=this.a.request("count",f);O(e,function(){W(this).Qa(e,f)},this)}else if(w(a)){k=T(this.b,a);if(!k)throw new F('store name "'+a+'" not found.');if(t(d)&&!ca(d))throw new F('unique value "'+d+'" must be boolean, but found '+typeof d+".");f=[a];if(w(b))if(g=
b,y(c)){var m=Hd(c);if(m)throw new F("invalid key range: "+me(c)+" "+m);h=Ed(c)}else{if(null!=c)throw new F("invalid key range: "+me(c)+" of type "+typeof c);h=null}else if(y(b)||null==b)if(y(b)){if(m=Hd(b))throw new F("invalid key range: "+me(b)+" "+m);h=Ed(b)}else{if(null!=b)throw new F("key range must be  an object but found "+me(b)+" of type "+typeof b);h=null}else throw new F('invalid second argument for count "'+me(c)+'" of type '+typeof b);K(this.logger,"countKeyRange: "+a+" "+(g?g:"")+S(h));
e=this.a.request("count",f);ke(k,e,arguments);O(e,function(){W(this).Aa(e,f[0],h,g,!!d)},this)}else throw new F("Invalid store name or store names.");else I(this.logger,"count method requires store name(s)"),k=se(this.b),e=this.a.request("count",k),jd(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),O(e,function(){W(this).Qa(e,f)},this);return e};
l.get=function(a,b){var c=this,d;if(a instanceof yd){var e=a,f=e.h(),g=T(this.b,f);if(!g){if(this.b.a()){if(Me(this.p()))return kd("get",void 0);d=new M("get");this.p().Ha(function(){Eb(c.get(a,b),function(a){d.o(a)},function(a){d.m(a)})});return d}throw new F("Store: "+f+" not found.");}var h=e.id;K(this.logger,"getByKey: "+f+":"+h);d=this.a.request("get:key",[f]);ke(g,d,arguments,void 0,this);O(d,function(){W(this).Va(d,f,h)},this)}else if(w(a)&&t(b)){var k=a,g=T(this.b,k);if(!g){if(this.b.a()){if(Me(this.p()))return kd("get",
void 0);d=new M("get");this.p().Ha(function(){Eb(c.get(a,b),function(a){d.o(a)},function(a){d.m(a)})});return d}throw new F('Store name "'+k+'" not found.');}var m=b;K(this.logger,"getById: "+k+":"+m);d=this.a.request("get",[k]);ke(g,d,arguments,void 0,this);O(d,function(){W(this).Va(d,k,m)},this)}else throw new F("get require valid input arguments.");return d};
l.keys=function(a,b,c,d,e,f,g){var h,k,m=null,q=!1,n=!1,p=a,s=T(this.b,p);if(!w(p))throw new F("store name must be a string, but "+p+" of type "+typeof p+" is not.");if(!this.b.a()){if(!s)throw new F('store name "'+p+'" not found.');if(w(b)&&!Xd(s,b))throw new F('index "'+b+'" not found in store "'+p+'".');}if(this.b.a()&&!s)return kd("keys",[]);var z;if(w(b)){var A=b,E=Hd(c);if(E)throw new F("invalid key range: "+c+" "+E);m=Ed(c);if(x(d))h=d;else{if(t(d))throw new F("limit must be a number");h=100}if(x(e))k=
e;else{if(t(e))throw new F("offset must be a number");k=0}if(t(f))if(ca(f))q=f;else throw new F("reverse must be a boolean");if(t(g))if(ca(g))n=g;else throw new F("unique must be a boolean");K(this.logger,"keysByIndexKeyRange: "+p);z=this.a.request("keys:iter:index",[p]);ke(s,z,arguments);O(z,function(){W(this).Q(z,2,p,A,m,h,k,q,n)},this)}else{if(y(b)){if(E=Hd(b))throw new F("invalid key range: "+me(b)+" "+E);m=Ed(b)}else{if(null!=b)throw new F("invalid key range: "+me(b)+" of type "+typeof b);m=
null}if(x(c))h=c;else{if(t(c))throw new F("limit must be a number");h=100}if(x(d))k=d;else{if(t(d))throw new F("offset must be a number");k=0}if(t(e))if(ca(e))q=e;else throw new F("reverse must be a boolean");K(this.logger,"keysByKeyRange: "+p);z=this.a.request("keys",[p]);ke(s,z,arguments);O(z,function(){W(this).Q(z,2,p,null,m,h,k,q,!1)},this)}return z};
l.D=function(a,b,c,d,e,f,g){var h=this,k,m,q,n=!1,p=!1;if(w(a)){var s=a,z=T(this.b,s);if(!z){if(this.b.a()){if(Me(this.p()))return kd("values",[]);k=new M("values");this.p().Ha(function(){Eb(h.D(a,b,c,d,e,f),function(a){k.o(a)},function(a){k.m(a)})});return k}throw new Se(s);}if(u(b)){if(t(c)||t(d))throw new F("too many input arguments");var A=b;K(this.logger,"listByIds: "+s+" "+A.length+" ids");k=this.a.request("values:array",[s]);ke(z,k,arguments,void 0,this);O(k,function(){W(this).zb(k,s,A)},this)}else if(w(b)){var E=
b;if(!be(z,E))throw new F('index "'+E+'" not found in store "'+s+'"');var B=Hd(c);if(B)throw new F("invalid key range: "+c+" "+B);var H=Ed(c);if(t(d))if(x(d))m=d;else throw new F("limit must be a number.");else m=100;if(t(e))if(x(e))q=e;else throw new F("offset must be a number.");else q=0;if(ca(f))n=f;else if(t(f))throw new F("reverse must be a boolean, but "+f);if(t(g))if(ca(g))p=g;else throw new F("unique must be a boolean");K(this.logger,"listByIndexKeyRange: "+s+":"+E);k=this.a.request("values:iter:index",
[s]);ke(z,k,arguments);O(k,function(){W(this).Q(k,4,s,E,H,m,q,n,p)},this)}else{H=null;if(y(b)){if(B=Hd(b))throw new F("invalid key range: "+b+" "+B);H=Ed(b)}else if(null!=b)throw new F('expect key range object, but found "'+me(b)+'" of type '+typeof b);if(t(c))if(x(c))m=c;else throw new F("limit must be a number, but "+c+" is "+typeof c);else m=100;if(t(d))if(x(d))q=d;else throw new F("offset must be a number, but "+d+" is "+typeof d);else q=0;if(t(e))if(ca(e))n=e;else throw new F("reverse must be a boolean, but "+
e+" is "+typeof e);K(this.logger,(H?"listByKeyRange: ":"listByStore: ")+s);k=this.a.request("values",[s]);ke(z,k,arguments);O(k,function(){W(this).Q(k,4,s,null,H,m,q,n,!1)},this)}}else if(u(a))if(a[0]instanceof yd){for(var z=[],R=a,B=0;B<R.length;B++){var U=R[B].h();if(!te(this.b,U)){if(this.b.a())return z=[],z[R.length-1]=void 0,kd("get",z);throw new F("Store: "+U+" not found.");}qb(z,U)||z.push(U)}K(this.logger,"listByKeys: "+S(z)+" "+R.length+" keys");k=this.a.request("values:keys",z);O(k,function(){W(this).Ab(k,
R)},this)}else throw new F("first argumentmust be array of ydn.db.Key, but "+a[0]+" of "+typeof a[0]+" found.");else throw new F("first argument "+a+" is invalid.");return k};
l.add=function(a,b,c){var d=w(a)?a:y(a)?a.name:void 0;if(!w(d))throw new F("store name "+d+" must be a string, but "+typeof d);var e=T(this.b,d);if(!e){if(!this.b.a())throw new F('store name "'+d+'" not found.');e=Ud(y(a)?a:{name:d});K(this.logger,"Adding object store: "+d);lf(this,e)}else if(this.b.a()&&y(a)&&(a=Ud(a),a=he(e,a)))throw new Mb(a);var f;if(!e)throw new F('store name "'+d+'" not found.');if(w(e.keyPath)&&t(c))throw new F("key must not be provided while the store uses in-line key.");
if(!e.keyPath&&!e.b&&!t(c))throw new F("out-of-line key must be provided.");if(u(b)){K(this.logger,"addObjects: "+d+" "+b.length+" objects");for(a=0;a<b.length;a++)ie(e,b[a]);f=this.a.request("add:array",[d],L);O(f,function(){W(this).X(f,!1,!1,d,b,c)},this);e.aa&&f.I(function(a){a=new xd("created",this.p(),e.getName(),a,b);this.p().J(a)},this)}else if(y(b))a="store: "+d+" key: "+ee(e,b,c),K(this.logger,"addObject: "+a),ie(e,b),f=this.a.request("add",[d],L),O(f,function(){W(this).X(f,!1,!0,d,[b],[c])},
this),e.aa&&f.I(function(a){a=new wd("created",this.p(),e.getName(),a,b);this.p().J(a)},this);else throw new F("record must be an object or array list of objects, but "+b+" of type "+typeof b+" found.");return f};
function nf(a,b){var c=w(b)?b:y(b)?b.name:void 0;if(!w(c))throw new F("store name must be a string");var d=T(a.b,c);if(!d){if(!a.b.a())throw new Se(c);d=Ud(y(b)?b:{name:c});K(a.logger,"Adding object store: "+c);lf(a,d)}else if(a.b.a()&&y(b)){var e=Ud(b);if(e=he(d,e))throw new Mb(e);}if(!d)throw new Se(c);return d}l.load=function(a,b,c){var d=c||",",e=nf(this,a).getName();a=this.a.request("load",[e]);var f=this;this.a.T(a,function(a,c,k){W(f).Db(a,c,k,e,b,d)},[e],L);return a};
function of(a,b){var c=pf(b);J(a.logger,"query "+b);var d=a.a.request("search",c,Sc);O(d,function(){var a=W(this);qf(b,function(c,g,h,k){var m=hd(d);a.Q(m,4,c,g,Ed(h),100,0,!1,!1);m.ha(function(a){var c=null;a instanceof Array||(c=a,a=[]);for(var e=0;e<a.length;e++){var f;f=a[e];var g=f.id,g=w(g)?ad(g):g,h=g[3];(f=1==this.type&&h!=this.value?null:new rf(this,g[0],g[2],g[1],h,f.k,f.loc))&&b.d.push(f)}b.c--;a=0==b.c?!1:b.b[b.b.length-1].g===this.g?!0:null;!0===a?Pc(d,b):!1===a&&d.o(b.e());if(c)throw c;
},k)})},a);return d}
l.put=function(a,b,c){var d,e=this;if(a instanceof yd){var f=a,g=f.h(),h=T(this.b,g);if(!h)throw new F('store "'+g+'" not found.');if(h.keyPath){var k=ee(h,b);if(null!=k){if(0!=ld(k,f.id))throw new F("Inline key must be "+f+" but "+k+" found.");}else fe(h,b,f.id);return this.put(g,b)}return this.put(g,b,f.id)}if(u(a)){if(t(c))throw new F("too many arguments");var m=a;if(!t(b))throw new F("record values required");for(var q=b,f=[],g=0,h=m.length;g<h;g++){k=m[g].h();-1==ib(f,k)&&f.push(k);var n=T(this.b,
k);if(!n)throw new F('store "'+k+'" not found.');n.keyPath&&fe(n,q[g],m[g].id)}K(this.logger,"putByKeys: to "+S(f)+" "+q.length+" objects");for(g=0;g<q.length;g++)ie(n,q[g]);d=this.a.request("put:keys",f,L);ke(n,d,arguments);O(d,function(){W(e).bb(d,q,m)},this)}else if(w(a)||y(a)){var n=nf(this,a),p=n.getName();if(n.keyPath&&t(c))throw new F("key must not be provided while the store uses in-line key.");if(!n.keyPath&&!n.b&&!t(c))throw new F("out-of-line key must be provided.");if(u(b)){var s=b,z=
c;K(this.logger,"putObjects: "+p+" "+s.length+" objects");for(g=0;g<s.length;g++)ie(n,s[g]);d=this.a.request("put:array",[p],L);ke(n,d,arguments);O(d,function(){W(this).X(d,!0,!1,p,s,z)},this);n.aa&&d.I(function(a){a=new xd("updated",this.p(),p,a,s);this.p().J(a)},this)}else if(y(b)){var A=b,E=c;K(this.logger,"putObject: "+p+" "+E);if(t(r.Blob)&&A instanceof Blob&&n.ga&&!n.keyPath&&0==n.a.length&&hc)d=new M("put"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request("put",[p],
L);ke(n,c,[p,A,E]);O(c,function(){W(e).X(c,!0,!0,p,[b],[E])},this);Eb(c,function(a){d.o(a)},function(a){d.m(a)})},f.onerror=function(a){d.m(a)},f.onabort=function(a){d.m(a)},f.readAsDataURL(A);else{ie(n,A);d=this.a.request("put",[p],L);var B=[p,A,E];ke(n,d,B);O(d,function(){var a=t(E)?[B[2]]:void 0;W(e).X(d,!0,!0,p,[B[1]],a)},this)}n.aa&&d.I(function(a){a=new wd("updated",this.p(),p,a,A);this.p().J(a)},this)}else throw new F("put record value must be Object or array of Objects");}else throw new F("the first argument of put must be store name, store schema or array of keys.");
return d};
function sf(a,b,c){var d=a.e,e,f;if(w(b)){var g=T(a.b,b);if(g){if(!g.keyPath&&!g.b)throw new F('key required for store "'+b+'"');}else throw new Se(b);for(var h=0;h<c.length;h++)ie(g,c[h]);e=[b]}else{f=b;e=[];for(var h=0,k=f.length;h<k;h++){var m=f[h].h(),g=T(a.b,m);-1==ib(e,m)&&e.push(m);if(!g)throw new Se(m);ie(g,c[h])}}var q;w(b)?(g=T(a.b,b),q=d.request("put:array",e,L),O(q,function(){W(this).X(q,!0,!1,b,c,void 0)},a)):(q=d.request("put:keys",e,L),O(q,function(){W(this).bb(q,c,f)},a));return q}
function tf(a,b,c){var d=a.e.request("rm:iter",[b],L);O(d,function(){W(this).eb(d,b,c||null)},a);return d}
l.clear=function(a,b,c){if(t(c))throw new F("too many input arguments");var d;if(w(a)){c=T(this.b,a);if(!c)throw new F('store name "'+a+'" not found.');if(y(b)){var e=Ed(b);if(null===e)throw new F("clear method requires a valid non-null KeyRange object.");K(this.logger,"clearByKeyRange: "+a+":"+S(e));d=this.a.request("clear",[a],L);ke(c,d,[a,e]);O(d,function(){W(this).ub(d,a,e)},this)}else{if(t(b))throw new F("clear method requires a valid KeyRange object as second argument, but found "+b+" of type "+
typeof b);K(this.logger,"clearByStore: "+a);d=this.a.request("clear",[a],L);O(d,function(){W(this).Pa(d,[a])},this)}}else if(!t(a)||u(a)&&w(a[0])){var f=a||se(this.b);K(this.logger,"clearByStores: "+S(f));d=this.a.request("clear",f,L);O(d,function(){W(this).Pa(d,f)},this)}else throw new F('first argument "'+a+'" is invalid.');return d};
l.Na=function(a,b,c){var d;if(w(a)){var e=T(this.b,a);if(!e)throw new F('store name "'+a+'" not found.');if(t(c))if(w(b)){var f=Xd(e,b);if(!f)throw new F("index: "+b+" not found in "+a);if(y(c)||null===c){var g=Ed(c);K(this.logger,"removeByIndexKeyRange: "+a+":"+f.getName()+" "+a);d=this.a.request("rm:iter:index",[a],L);O(d,function(){W(this).Eb(d,a,f.getName(),g)},this)}else throw new F("key range "+c+' is invalid type "'+typeof c+'".');}else throw new F('index name "'+b+'" must be a string, but '+
typeof b+" found.");else if(w(b)||x(b)||v(b)||b instanceof Date){K(this.logger,"removeById: "+a+":"+b);d=this.a.request("rm",[a],L);var h=[a,b];ke(e,d,h);O(d,function(){W(this).cb(d,a,h[1])},this);e.aa&&d.I(function(c){c=1==c?b:void 0;c=new wd("deleted",this.p(),a,c,void 0);this.p().J(c)},this)}else if(y(b))g=Ed(b),K(this.logger,"removeByKeyRange: "+a+":"+S(g)),d=this.a.request("rm:iter",[a],L),ke(e,d,[a,g]),O(d,function(){W(this).eb(d,a,g)},this),e.aa&&d.I(function(b){var c=[];c.length=b;b=new xd("deleted",
this.p(),a,c,void 0);this.p().J(b)},this);else throw new F('Invalid key or key range "'+b+'" of type '+typeof b);}else if(a instanceof yd){var k=a.h(),e=T(this.b,k);d=this.a.request("rm",[k],L);var m=[k,a.id];ke(e,d,m);O(d,function(){W(this).cb(d,k,m[1])},this)}else if(u(a)){c=[];for(var e=0,q=a.length;e<q;e++){if(!(a[e]instanceof yd))throw new F("key list element at "+e+" of "+q+' must be yn.db.Key, but "'+me(a[e])+'" ('+ba(a[e])+") is not ydn.db.Key.");var n=a[e].h();-1==ib(c,n)&&c.push(n)}if(1>
c.length)throw new F('at least one valid key required in key list "'+me(a)+'"');d=this.a.request("rm:keys",c,L);O(d,function(){W(this).Fb(d,a)},this)}else throw new F('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "'+me(a)+'" ('+ba(a)+") found.");return d};l.toString=function(){return"DbOperator:"+this.p().getName()};function uf(a,b,c,d){this.d=a;this.e=b;this.a=sb(c);this.b=d;this.c=[]}uf.prototype.d=null;function vf(a,b,c){if(a.d)c&&a.c.push(c),b(a.d);else throw new Pb("tx committed on ParallelTxExecutor");}uf.prototype.toString=function(){return"ParallelTxExecutor: txNo:"+this.e+" mode:"+this.b+" scopes:"+S(this.a)};function wf(a,b,c,d,e,f){$e.call(this,a,b,c,d,e,f);this.c=this.b=null}C(wf,$e);l=wf.prototype;l.logger=G("ydn.db.tr.Parallel");l.abort=function(){K(this.logger,this+": aborting");bf(this.c)};
l.Ob=function(a,b){var c;if("multi"==this.e)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=L||b!=Sc)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if("repeat"==this.e)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c="all"==this.e?!0:!1;return c};
l.da=function(a,b,c,d){function e(c){k.d++;m=new uf(c,k.d,b,h);g=k.F();Nc(k.logger,g+" BEGIN "+S(b)+" "+h);k.b=m;vf(k.b,a,d)}function f(a,b){Nc(k.logger,g+" "+a);if(m){for(var c=m,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0;c.d=null;c.a=null;c.c=null}k.a=0}var g;this.u&&(b=this.u);this.r&&(c=this.r);var h=t(c)?c:Sc,k=this,m;if(this.b&&this.b.d&&this.Ob(b,h))vf(this.b,a,d);else{if(this.i&&this.d>=this.i)throw new Ob("Exceed maximum number of transactions of "+this.i);this.p().transaction(e,b,h,f)}};
l.request=function(a,b,c,d){var e=new M(a),f=this;this.da(function(a){f.a++;gd(e,a,f.F()+"R"+f.a)},b,c||Sc,function(a,b){e.a=null;d&&d(a,b)});return e};l.T=function(a,b,c,d,e){var f=this,g;this.da(function(c){f.a++;g=f.F()+"R"+f.a;K(f.logger,g+" BEGIN");b(c,g,function(b,d){f.c=c;g=f.F()+"R"+f.a;d?(K(f.logger,g+" ERROR"),a.m(b)):(K(f.logger,g+" SUCCESS"),a.o(b));f.c=null});b=null;K(f.logger,g+" END")},c,d,e)};l.toString=function(){return"Parallel:"+this.e+":"+this.F()+(this.c?"*":"")};function xf(a,b){wf.call(this,a,b,af)}C(xf,wf);l=xf.prototype;l.logger=G("ydn.db.tr.AtomicParallel");l.Ob=function(){return!1};l.request=function(a,b,c){var d,e,f,g=this,h=xf.t.request.call(this,a,b,c,function(a,b){h.a=null;K(g.logger,"transaction "+a);if(d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new We;N(h,c,!0)}});jd(h,function(a,b,c){f=b;e=a;d=c});return h};
l.T=function(a,b,c,d,e){var f,g,h=new D;Eb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});xf.t.T.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.m(c);else if(!0===g)a.m(f);else if(!1===g)a.o(f);else{var d=new We;a.m(d)}e&&(e(b,c),e=void 0)})};l.toString=function(){return"Atomic"+xf.t.toString.call(this)};function yf(a,b,c){V.call(this,a,b,c);this.ja=0;a=!0;b=af;c&&(t(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=zf(this,b,a);this.j=zf(this,"atomic",!1);this.a=this.ia(c,this.j)}C(yf,V);l=yf.prototype;l.ja=0;l.Pb=function(a,b,c,d,e,f){a=a||af;var g;"readonly"==d?g=Sc:"readwrite"==d&&(g=L);a=zf(this,a,b,c,g,e);return this.ia(a,f?null:this.j)};l.ia=function(a,b){return new hf(this,this.b,a,b)};
function zf(a,b,c,d,e,f){if(c){if("multi"==b||"repeat"==b||"all"==b||b==af)return new cf(a,a.ja++,b,d,e,f);if("atomic"==b)return new gf(a,a.ja++);throw new F('Invalid requestType "'+b+'"');}if("multi"==b||"repeat"==b||"all"==b||b==af)return new wf(a,a.ja++,b,d,e,f);if("atomic"==b)return new xf(a,a.ja++);throw new F('Invalid requestType "'+b+'"');}
l.Wb=function(a,b,c){if(3<arguments.length)throw new F("too many input arguments, run accept not more than 3 input arguments, but "+arguments.length+" found.");this.ja++;var d=b||se(this.b),e=Sc;if(c)if("readwrite"==c)e=L;else if("readonly"!=c)throw new F('Invalid transaction mode "'+c+'"');var f=zf(this,"all",!1,d,e,1),g=this.ia(f,this.j),h=new M("run"),k=this;f.da(function(b){J(k.logger,"executing run in transaction on "+f);gd(h,b,f.F()+"R0");a(g)},d,e,function(a){h.a=null;N(h,f.d,"complete"!==
a)});return h};l.lc=function(){return this.a?this.a.a.d:NaN};function X(a,b,c){yf.call(this,a,b,c);a=this.b;for(b=0;b<a.c.length;b++){c=a.c[b];var d=T(a,c.getName());if(d){if(!be(d,"k"))throw new F('full text index store "'+d.getName()+'" must have "keyword" index');if(!be(d,"v"))throw new F('full text index store "'+d.getName()+'" must have "keyword" index');if("id"!=d.keyPath)throw new F('full text index store "'+d.getName()+'" must use "id" as key path.');}else throw new F('full text index store "'+c.getName()+'" required.');for(d=0;d<c.count();d++){var e=
c.index(d),f=T(a,e.h());if(f)this.rb(f,c);else throw new F('full text source store "'+e.h()+'" does not exist for full text index "'+c.getName()+'"');}}}C(X,yf);l=X.prototype;l.ia=function(a,b){return new mf(this,this.b,a,b)};l.add=function(a,b,c){return this.a.add(a,b,c)};l.count=function(a,b,c,d){return this.a.count(a,b,c,d)};l.get=function(a,b){return this.a.get(a,b)};l.keys=function(a,b,c,d,e,f,g){return this.a.keys(a,b,c,d,e,f,g)};l.D=function(a,b,c,d,e,f){return this.a.D(a,b,c,d,e,f)};
l.load=function(a,b,c){return this.a.load(a,b,c)};l.put=function(a,b,c){return this.a.put(a,b,c)};l.clear=function(a,b,c){return this.a.clear(a,b,c)};l.Na=function(a,b,c){return this.a.Na(a,b,c)};l.toString=function(){var a="Storage:"+this.getName();Me(this)&&(a+=" ["+this.wa()+"]");return a};yf.prototype.branch=yf.prototype.Pb;yf.prototype.getTxNo=yf.prototype.lc;hf.prototype.getTxNo=hf.prototype.kc;yf.prototype.run=yf.prototype.Wb;X.prototype.branch=X.prototype.Pb;X.prototype.add=X.prototype.add;X.prototype.get=X.prototype.get;X.prototype.keys=X.prototype.keys;X.prototype.values=X.prototype.D;X.prototype.put=X.prototype.put;X.prototype.clear=X.prototype.clear;X.prototype.remove=X.prototype.Na;X.prototype.count=X.prototype.count;mf.prototype.add=mf.prototype.add;mf.prototype.get=mf.prototype.get;mf.prototype.keys=mf.prototype.keys;mf.prototype.values=mf.prototype.D;mf.prototype.put=mf.prototype.put;mf.prototype.clear=mf.prototype.clear;
mf.prototype.remove=mf.prototype.Na;mf.prototype.count=mf.prototype.count;la("ydn.db.Key",yd);yd.prototype.id=yd.prototype.bc;yd.prototype.parent=yd.prototype.cc;yd.prototype.storeName=yd.prototype.h;la("ydn.db.KeyRange",Q);Q.upperBound=Q.upperBound;Q.lowerBound=Q.lowerBound;Q.bound=Q.bound;Q.only=Q.only;Q.starts=Fd;rd.prototype.store_name=rd.prototype.a;rd.prototype.getStoreName=rd.prototype.h;wd.prototype.name=wd.prototype.name;wd.prototype.getKey=wd.prototype.c;wd.prototype.getValue=wd.prototype.w;
xd.prototype.name=xd.prototype.name;xd.prototype.getKeys=xd.prototype.pa;xd.prototype.getValues=xd.prototype.Xa;function Af(a,b,c,d,e){if(!(b instanceof Q))if(w(b)&&t(c))b=Ld(b,c,d,e);else if(null!=b){if(!(b instanceof Q))if(y(b))b=new Q(b.lower,b.upper,b.lowerOpen,b.upperOpen);else throw new F("Invalid key range: "+b+" of type "+typeof b);}else b=null;this.a=b;this.ba=a}Af.prototype.ba="";Af.prototype.$=function(a){if(this.ba!=a.ba)return null;a=null!=this.a&&null!=a.a?this.a.$(a.a):this.a||a.a;return new Af(this.ba,a)};function Bf(a,b,c,d){nd.call(this);this.b=c;this.a=c.getName();this.j=void 0;this.f=!1;this.fa=null;this.e=a;this.ob=b;this.la=0;this.Y=this.A=!1;this.O=d||4;this.ka=this.g=this.c=void 0;this.l=function(){throw new Pb;};this.r=function(){throw new Pb;};this.Ib=function(){}}C(Bf,nd);l=Bf.prototype;
l.mb=function(a,b,c,d,e){if(t(b)){a=this.b;var f,g=b;u(b)?(f=ae(a,b),g=b.join(", ")):f=Xd(a,b);if(!f)throw new F('require index "'+g+'" not found in store "'+a.getName()+'"');this.j=f.getName()}this.f=w(this.j);this.fa=c||null;this.la=0;this.Y=this.A=!1;this.reverse="prev"==d||"prevunique"==d;this.unique="nextunique"==d||"prevunique"==d;this.P=d;this.Fa=e;this.ka=this.g=this.c=void 0};l.P="";l.fa=null;l.unique=!1;l.reverse=!1;l.Fa=!0;l.logger=G("ydn.db.core.req.AbstractCursor");
function Cf(a,b){a.r(b);Df(a);a.A=!0}l.R=function(a,b,c){null==a&&(K(this.logger,this+" finished."),this.A=!0);this.c=a;this.g=b;this.ka=c;this.la++;this.A?(J(this.logger,this+" DONE."),this.l(),Df(this)):(J(this.logger,this+" new cursor position {"+(this.f?this.c+", "+this.g:this.c)+"}"),this.l(this.c))};l.W=function(){this.e=null};l.toString=function(){return"Cursor:"+this.a+(t(this.j)?":"+this.j:"")+"["+(this.e?"":"~")+this.ob+"]"};
function Df(a){null!=a.g?a.g=Bd(a.g):a.g=void 0;null!=a.c?a.c=Bd(a.c):a.c=void 0;a.Ib(a.Y,a.c,a.g)}l.open=function(a,b,c,d){this.e=a;this.ob=b;this.A=this.Y=!1;this.c=c;this.g=d;this.openCursor(this.c,this.g)};function Ef(a){a.Y=!0;J(a.logger,a+": exit");Df(a)}l.wb=function(){return this.la};l.ic=function(){return this.c};l.q=function(){return this.f?this.g:this.c};l.w=function(){return this.Fa?this.q():this.ka};l.Ma=function(){};l.oa=function(){};
function Ff(a,b,c){J(a.logger,a+" restarting");a.A=!1;a.Y=!1;a.openCursor(c,b)};function Gf(){};function Y(a,b,c,d,e,f,g){if(!w(a))throw new TypeError("store name must be a string, but "+a+" found.");this.e=a;this.c=b;this.f=g;this.i=!!this.c;if(t(d)&&!ca(d))throw new F("reverse value must be a boolean, but "+typeof d+" found");if(t(e)&&!ca(e))throw new F("unique value must be a boolean, but "+typeof e+" found");if(t(f)&&!ca(f))throw new F("key_only value must be a boolean, but "+typeof f+" found");this.a=t(f)?f:!!w(this.c);a="next";d&&e?a="prevunique":d?a="prev":e&&(a="nextunique");this.j=
a;if(d=Hd(c))throw new F("Invalid key range: "+d);this.b=Ed(c);this.d=Hf;this.r=NaN}C(Y,Gf);Y.prototype.a=!0;function If(a,b,c){if(3<arguments.length)throw new F("too many argument");Y.call(this,a,void 0,b,c,void 0,!0)}C(If,Y);function Jf(a,b,c,d,e){if(!w(b))throw new F("index name must be string");Y.call(this,a,b,c,d,e,!0)}C(Jf,Y);function Kf(a,b,c){if(3<arguments.length)throw new F("too many argument");Y.call(this,a,void 0,b,c,void 0,!1)}C(Kf,Y);
function Lf(a,b,c,d,e){if(!w(b))throw new F("index name must be string");Y.call(this,a,b,c,d,e,!1)}C(Lf,Y);var Hf="init";l=Y.prototype;l.logger=G("ydn.db.Iterator");l.h=function(){return this.e};l.Zb=function(){return this.c};l.Jb=function(){return this.b?this.b instanceof Gd?this.b:Gd.bound(this.b.lower,this.b.upper,this.b.lowerOpen,this.b.upperOpen):null};l.ac=function(){return this.a};l.Ub=function(){return this.i};
l.C=function(){var a=new Y(this.e,this.c,this.b,this.S(),this.na(),this.a,this.f);a.r=this.r;return a};l.unique=function(a){return new Y(this.e,this.c,this.b,this.S(),a,this.a,this.f)};l.toJSON=function(){return{store:this.e,index:this.c,keyRange:this.b?Cd(this.b):null,direction:this.j}};
l.toString=function(){var a=t(this.f)?":"+this.f.join(","):t(this.c)?":"+this.c:"",a=a+Id(this.b);this.d!=Hf&&(a+=this.d+"{"+this.g,this.i&&(a+=", "+this.l),a+="}");var b=this.i?"Index":"",b=b+(this.a?"Key":"Value");return b+"Iterator:"+this.e+a};l.Kb=function(a,b){var c=new Y(this.e,this.c,this.b,this.S(),this.na(),this.a,this.f);c.g=a;c.l=b;c.d="rest";return c};l.reverse=function(){return new Y(this.e,this.c,this.b,!this.S(),this.na(),this.a,this.f)};
l.S=function(){return"prev"===this.j||"prevunique"===this.j};l.na=function(){return"nextunique"===this.j||"prevunique"===this.j};l.Tb=function(){return this.d};l.load=function(a){a=a[0];a.mb(this.e,this.f||this.c,this.b,this.j,this.a);this.d="busy";var b=this;a.Ib=function(a,d,e){b.g=d;b.l=e;b.d=a?"rest":"done"};a.openCursor(this.g,this.l);return a};l.$b=function(){return this.g};l.q=function(){return this.l};
l.fb=function(a,b,c){a=a||Hf;"busy"==this.d?I(this.logger,this+": resetting state to "+a+" ignore during iteration"):(this.g=b,this.l=c,this.d=a)};l.stores=function(){return[this.e]};function Mf(a,b,c,d){if("transaction"in a)this.g=a,this.c=this.f=null;else if("objectStore"in a){if(this.g=null,this.f=a.db,this.c=a,!this.c.db.objectStoreNames.contains(b))throw new ye('store "'+b+'" not in transaction.');}else throw new ye("storage instance require.");this.i=b;this.j=c;this.l=d;this.b=[];this.a=0;this.d=!1}Mf.prototype.logger=G("ydn.db.con.IdbCursorStream");Mf.prototype.d=!1;
function Nf(a,b){a.a++;b.onsuccess=function(b){if(b=b.target.result){if(da(a.l)){var d=b.value;a.l(b.primaryKey,null!=a.j?d[a.j]:d)}else I(a.logger,"sink gone, dropping value for: "+b.primaryKey);if(b&&0<a.b.length)b["continue"](a.b.shift());else a.a--,0==a.a&&a.U&&a.U()}};b.onerror=function(){I(a.logger,"seeking fail. "+("error"in b?b.error.name+":"+b.error.message:""));a.a--;0==a.a&&a.U&&a.U()}}function Of(a,b){0==a.b.length&&0==a.a?b():a.U=b}
function Pf(a){if(!a.d){var b=function(b,c){a.c=null;"complete"!==b&&I(a.logger,c.name+":"+c.message);J(a.logger,a+" transaction "+b)},c=function(b){var c=a.b.shift();J(a.logger,a+" transaction started for "+c);b=b.objectStore(a.i);Nf(a,b.openCursor(c))};if(a.c)J(a.logger,a+" using existing tx."),c(a.c);else if(a.f)J(a.logger,a+" creating tx from IDBDatabase."),a.e=a.f.transaction([a.i],Sc),a.e.oncomplete=function(a){b("complete",a)},a.e.onerror=function(a){b("error",a)},a.e.onabort=function(a){b("abort",
a)};else if(a.g)J(a.logger,a+" creating tx from ydn.db.con.IStorage."),a.d=!0,a.g.transaction(function(b){a.d=!1;c(b)},[a.i],Sc,b);else throw new De("no way to create a transaction provided.");}};function Qf(a,b,c){a&&a instanceof V?this.ua=a:a&&a.db&&(this.ua=null,Rf(this,a));if(!w(b))throw new F("a store name required.");this.c=b;if(t(c)&&!w(c))throw new F("projection index name must be a string.");this.va=c;this.ea=null;this.b=[];this.a=[];this.qa=!1}l=Qf.prototype;l.logger=G("ydn.db.Streamer");l.ua=null;l.hb=null;l.ea=null;l.Yb=function(a){this.hb=a};function Rf(a,b){if(b.db)a.ea=new Mf(b,a.c,a.va,ia(a.U,a));else throw new F("Invalid IndexedDB Transaction.");}
function Sf(a){var b=0<a.a.length;if(b&&!a.qa&&da(a.hb)){var c=function(){Sf(a)},d=a.b.shift(),e=a.a.shift(),b=0<a.a.length,c=a.hb(d,e,b?c:null);b&&!c&&Sf(a)}}l.qa=!1;l.gc=function(a){if(this.ea){this.qa=!0;var b=this;Of(this.ea,function(){a(b.b,b.a);b.b=[];b.a=[];b.qa=!1})}else a(this.b,this.a),this.b=[],this.a=[]};l.U=function(a,b){this.b.push(a);this.a.push(b);Sf(this)};
l.push=function(a,b){if(this.qa)throw new Ge("push not allowed after a collection is started");if(2<=arguments.length)this.U(a,b);else{if(!this.ea){if(!this.ua)throw new Ge("Database connection is not setup.");var c=this.ua.wa();if(c)if("indexeddb"===c)this.ea=new Mf(this.ua,this.c,this.va,ia(this.U,this));else throw new Ce(c);else throw new Ge("Database is not connected.");}c=this.ea;c.b.push(a);Pf(c)}};l.h=function(){return this.c};l.toString=function(){return"Streamer:"+this.c+(this.va||"")};function Tf(a,b){if(null!=a&&!("push"in a))throw new ye('output receiver object must have "push" method.');this.a=a||null;this.g=b;this.e=0;this.b=!1;this.d=a instanceof Qf&&!!a.va}Tf.prototype.logger=G("ydn.db.algo.AbstractSolver");
Tf.prototype.f=function(a,b){this.b=b[0].S();for(var c=0;c<b.length;c++){if(!(b[c]instanceof Y))throw new Lb("item at iterators "+c+" is not an iterator.");if(0<c&&this.b!=b[c].S())throw new Lb("iterator at "+c+" must "+(this.b?"be reverse":"not be reverse"));}this.a instanceof Qf&&Rf(this.a,a);if(this.d)if(c=b[0],(c=c.f||c.c)&&1<c.length){if(c[c.length-1]!=this.a.va)throw new Ge("Output streamer projection field must be same as postfix field in the iterator");}else I(this.logger,"Unable to check correctness of output streamer.");
for(var d="{",c=0;c<b.length;c++)0<c&&(d+=", "),d+=b.toString();d+="}";this.b&&(d+=" reverse");Nc(this.logger,this+" begin "+d);return!1};function Uf(a,b,c){var d,e=null!=d;if(!t(d)){d=c[0];for(var e=null!=d,f=1;e&&f<c.length;f++)null!=c[f]&&0==ld(c[f],d)||(e=!1)}return e&&(a.e++,a.a&&(a.d?a.a.push(d,void 0):a.a.push(d)),t(a.g)&&a.e>=a.g)?[]:b}Tf.prototype.c=function(){return[]};function Vf(a,b,c,d){hf.call(this,a,b,c,d)}C(Vf,mf);l=Vf.prototype;l.logger=G("ydn.db.core.DbOperator");l.get=function(a,b){if(a instanceof Y){var c=a.h(),d=T(this.b,c);if(!d)throw new F('store "'+c+'" not found.');var e=a.c;if(t(e)&&!be(d,e))throw new F('index "'+e+'" not found in store "'+c+'".');K(this.logger,"getByIterator:"+a);var f=this.a.request("get:iter",[c]);O(f,function(){Wf(this,5,f,a,1)},this);return f}return Vf.t.get.call(this,a,b)};
l.keys=function(a,b,c,d,e,f,g){if(a instanceof Y){var h=100;if(x(b)){if(h=b,1>h)throw new F("limit must be a positive value, but "+b);}else if(t(b))throw new F("limit must be a number,  but "+b);if(t(c))throw new F("offset must not be specified");K(this.logger,"keysByIterator:"+a);var k=this.a.request("keys:iter",[a.h()]);O(k,function(){a.i?Wf(this,1,k,a,h):Wf(this,2,k,a,h)},this);return k}return Vf.t.keys.call(this,a,b,c,d,e,f,g)};
l.count=function(a,b,c,d){if(a instanceof Y){if(t(b)||t(c))throw new F("too many arguments.");K(this.logger,"countIterator:"+a);var e=this.a.request("count",[a.h()]);O(e,function(){Wf(this,6,e,a)},this);return e}return Vf.t.count.call(this,a,b,c,d)};
l.D=function(a,b,c,d,e,f){if(a instanceof Y){var g;if(x(b)){if(g=b,1>g)throw new F("limit must be a positive value, but "+g);}else if(t(b))throw new F("limit must be a number, but "+b);if(t(c))throw new F("offset must not be specified");K(this.logger,"listByIterator:"+a);var h=this.a.request("values:iter",[a.h()]);O(h,function(){a.a?Wf(this,2,h,a,g):Wf(this,4,h,a,g)},this);return h}return Vf.t.D.call(this,a,b,c,d,e,f)};
l.lb=function(a,b,c){if(!u(b))throw new F("iterators argument must be an array, but "+b+" of type "+typeof b+" found");for(var d=0;d<b.length;d++)if(!(b[d]instanceof Y))throw new F("Iterator at "+d+" must be cursor range iterator.");c=c||Sc;for(var e=[],d=0;d<b.length;d++)for(var f=b[d].stores(),g=0;g<f.length;g++)qb(e,f[g])||e.push(f[g]);K(this.logger,this+": scan for "+b.length+" iterators on "+e);var h=this,d=this.a.request("scan",e);this.a.T(d,function(c,d,e){function f(){for(var a=0,e=0;e<b.length;e++){var q=
b[e],n=[W(h).b(c,d,q.h())],q=q.load(n);q.r=g;q.l=ja(s,a);U[e]=q;B[a]=e;a++}E=b.length}function g(a){for(var b=0;b<U.length;b++)Ef(U[b]);rb(U);K(h.logger,z+" error");e(a,!0)}function s(c,d){if(A)throw new De;$++;var f=$===E,g=B[c],k=b[g],m=U[g],g=m.q(),m=m.w();H[c]=d;R[c]=k.i?k.a?g:m:k.a?d:m;if(f){var n;a instanceof Tf?n=a.c(H,R):n=a(H,R);f=[];k=[];g=[];m=[];if(u(n))for(var p=0;p<n.length;p++)!0===n[p]?g[p]=1:!1===n[p]?m[p]=!0:k[p]=n[p];else if(null===n)f=[];else if(t(n))if(y(n)){f=["advance","continue",
"continuePrimary","restart"];for(p in n)if(!qb(f,p))throw new Ob('Unknown attribute "'+p+'" in cursor advancement object');f=n.continuePrimary||[];k=n["continue"]||[];g=n.advance||[];m=n.restart||[]}else throw new Ob("scan callback output");else for(f=[],p=0;p<b.length;p++)t(B[p])&&(g[p]=1);for(p=$=n=0;p<b.length;p++)null!=f[p]||t(k[p])||null!=m[p]||null!=g[p]||$++;for(p=0;p<b.length;p++)if(null!=f[p]||t(k[p])||null!=m[p]||null!=g[p]){var s=B[p];if(!t(s))throw new Fe(p+" is not an iterator.");var s=
b[s],Ib=U[p];if(null==H[p]){var Be=p+"/"+b.length;if(null!=g[p])throw new Ge(Ib+" "+Be+" must not advance "+g[p]+" steps");if(t(k[p]))throw new Ge(Ib+" "+Be+" must not continue to key "+k[p]);if(null!=f[p])throw new Ge(Ib+" "+Be+" must not continue to primary key "+f[p]);}H[p]=void 0;R[p]=void 0;if(null!=m[p])Ff(Ib);else if(t(k[p]))Ib.oa(k[p]);else if(null!=f[p])Ib.Ma(f[p]);else if(null!=g[p])Ib.advance(1);else throw new De(s+": has no action");n++}if(0==n){for(n=0;n<U.length;n++)Ef(U[n]);A=!0;rb(U);
K(h.logger,"success "+z);e(void 0)}}}var z=d+" "+h+" scanning";J(h.logger,z);var A=!1,E,B=[],H=[],R=[],U=[],$=0;a instanceof Tf?a.f(c,b,function(){f()})||f():f()},e,c);return d};
l.open=function(a,b,c,d){if(!(b instanceof Y))throw new F("Second argument must be cursor range iterator.");for(var e=b.stores(),f=0;f<e.length;f++)if(!T(this.b,e[f]))throw new F('Store "'+e[f]+'" not found.');c=c||Sc;var g=this,h=this.a.request("open",b.stores(),c);K(this.logger,"open:"+c+" "+b);O(h,function(c){var e=P(h);K(g.logger,e+" iterating "+b);for(var f=b.stores(),n=[],p=0;p<f.length;p++)n[p]=W(g).b(c,e,f[p]);var s=b.load(n);s.r=function(a){N(h,a,!0)};s.l=function(b){null!=b?(b=a.call(d,
s),!0===b?Ff(s):y(b)?!0===b.restart?Ff(s,b["continue"],b.continuePrimary):null!=b["continue"]?s.oa(b["continue"]):null!=b.continuePrimary?s.Ma(b.continuePrimary):(Ef(s),N(h,void 0)):null===b?(Ef(s),N(h,void 0)):null!=b?s.oa(b):s.advance(1)):(Ef(s),N(h,void 0))}},this);return h};
l.map=function(a,b){for(var c=this,d=a.stores(),e,f=0;e=d[f];f++)if(!e)throw new F('Store "'+e+'" not found.');e=this.a.request("map",d);J(this.logger,"map:"+a);this.a.T(e,function(d,e,f){J(c.logger,e+" iterating "+a);for(var m=a.stores(),q=[],n=0;n<m.length;n++)q[n]=W(c).b(d,e,m[n]);var p=a.load(q);p.r=function(a){f(a,!1)};p.l=function(c){if(null!=c){var d;a.i?a.a?d=c:d=p.q():a.a?d=c:d=p.w();b(d);p.advance(1)}else f(void 0),b=null}},d,Sc);return e};
l.reduce=function(a,b,c){for(var d=this,e=a.stores(),f,g=0;f=e[g];g++)if(!f)throw new F('Store "'+f+'" not found.');f=this.a.request("reduce",e);var h=y(c)?le(S(c)):c;K(this.logger,"reduce:"+a);this.a.T(f,function(c,e,f){for(var g=a.stores(),p=[],s=0;s<g.length;s++)p[s]=W(d).b(c,e,g[s]);var z=a.load(p);z.r=function(a){f(a,!0)};var A=0;z.l=function(c){if(null!=c){var d;a.i?a.a?d=c:d=z.q():a.a?d=c:d=z.w();h=b(h,d,A++);z.advance(1)}else f(h)}},e,Sc);return f};
function Xf(a,b,c,d){var e=c.h(),f=c.c||null,g=d||100;K(a.logger,"listIter:"+b+" "+c+(d?" limit="+g:"")+"");var h=a.a.request("values:iter:index",[e]),k="done"==c.d||c.d==Hf?[]:[c.g,c.q()];O(h,function(){W(this).Q(h,b,e,f,c.Jb(),g,0,c.S(),c.na(),k)},a);h.I(function(){null!=k[0]?c.fb("rest",k[0],k[1]):c.fb()});return h}
function Wf(a,b,c,d,e){var f=[],g=c.a,h=P(c),k=h+" "+b+"ByIterator "+d;0<e&&(k+=" limit "+e);K(a.logger,k);for(var m=W(a),q=[],n=d.stores(),p=0;p<n.length;p++)q[p]=m.b(g,h,n[p]);var s=d.load(q);s.r=function(a){Ef(s);N(c,a,!0)};var z=0,A=!1;s.l=function(d){A||(J(a.logger,k+" starting"),A=!0);null!=d?(s.q(),z++,1==b?f.push(d):2==b?f.push(s.q()):3==b?f.push([d,s.q()]):6!=b&&f.push(s.w()),5==b?(Ef(s),N(c,f[0])):6==b||!t(e)||z<e?s.oa():(K(a.logger,"success:"+k+" yields "+f.length+" records"),Ef(s),N(c,
f))):(K(a.logger,"success:"+k+" yields "+f.length+" records"),Ef(s),N(c,5==b?f[0]:6==b?z:f))}};function Yf(a,b,c){X.call(this,a,b,c)}C(Yf,X);l=Yf.prototype;l.ia=function(a,b){return new Vf(this,this.b,a,b)};l.open=function(a,b,c,d){return this.a.open(a,b,c,d)};l.hc=function(a,b){return this.a.lb(a,b)};l.map=function(a,b){return this.a.map(a,b)};l.reduce=function(a,b,c){return this.a.reduce(a,b,c)};function Zf(a){if(!w(a))throw new ye;this.K=a;this.c=L;this.b=[];$f(this,a);this.ta=""}l=Zf.prototype;l.K="";l.yb=NaN;l.Bb=NaN;l.gb=!1;l.ta="";
function $f(a,b){var c=b.split(/\sFROM\s/i);if(2==c.length){var d=c[1],c=c[0].match(/\s*?(SELECT|INSERT|UPDATE|DELETE)\s+(.*)/i);if(3==c.length){a.d=c[1].toUpperCase();if("SELECT"==a.d)a.c=Sc;else if("INSERT"==a.d)a.c=L;else if("UPDATE"==a.d)a.c=L;else if("DELETE"==a.d)a.c=L;else return;var c=c[2].trim(),e=c.match(/^(MIN|MAX|COUNT|AVG|SUM)/i);e?(a.e=e[0].toUpperCase(),c=c.replace(/^(MIN|MAX|COUNT|AVG|SUM)/i,"").trim()):a.e=void 0;"("==c.charAt(0)&&(")"==c.charAt(c.length-1)?c=c.substring(1,c.length-
1):new Ve("missing closing parentheses"));a.j=c;c=d.search(/(ORDER BY|LIMIT|OFFSET)/i);0<c?(a.a=d.substring(c),d=d.substring(0,c)):a.a="";c=d.search(/WHERE/i);0<c?(a.f=d.substring(c+6).trim(),d=d.substring(0,c)):a.f="";a.b=d.trim().split(",").map(function(a){a=Ba(a,'"');a=Ba(a,"'");return a.trim()})}}}function ag(a){if("*"==a.j)return null;a=a.j.split(",");return a=a.map(function(a){return Ba(a.trim(),'"')})}l.toJSON=function(){return{sql:this.K}};
function bg(a){function b(a){return pb(c,function(b){return b.ba==a})}var c=[],d=/(.+?)(<=|>=|=|>|<)(.+)/i;if(0<a.f.length)for(var e=a.f.split("AND"),f=0;f<e.length;f++){var g=e[f],h=d.exec(g);if(h){var k=h[1].trim(),k=Ba(k,'"'),k=Ba(k,"'");if(0<k.length){var m=h[3].trim();0==m.lastIndexOf('"',0)?m=Ba(m,'"'):0==m.lastIndexOf("'",0)?m=Ba(m,"'"):m=parseFloat(m);h=new Af(k,h[2],m);k=b(k);if(0<=k){if(c[k]=c[k].$(h),!c[k])return a.ta='where clause "'+g+'" conflict',null}else c.push(h)}else return a.ta=
'Invalid clause "'+g+'"',null}else return a.ta='Invalid clause "'+g+'"',null}return c}l.toString=function(){return"query:"+this.K};function cg(a,b,c,d){Bf.call(this,a,b,c,d);this.d=null}C(cg,Bf);l=cg.prototype;l.logger=G("ydn.db.core.req.IDBCursor");l.Ba=function(a){(a=a.target.result)?this.R(a.key,a.primaryKey,a.value):this.R()};
l.openCursor=function(a,b){function c(a,b,c){n.d=q;n.d.onsuccess=ia(n.Ba,n);n.R(a,n.f?b:void 0,c);q=null}var d=this+" opening ";null!=a&&(d+="{"+a,d=null!=b?d+(";"+b+"}"):d+"}");J(this.logger,d);var e=this.fa,d=this.e.objectStore(this.a),f=w(this.j)?d.index(this.j):null;if(t(a))var g=f?!t(b):!0,h=e?e.lower:void 0,k=e?e.upper:void 0,m=e?!!e.lowerOpen:!1,e=e?!!e.upperOpen:!1,e=Dd(this.reverse?new Q(h,a,m,g):new Q(a,k,g,e));var q;this.Fa?f?q=null!=this.P?f.openKeyCursor(e,this.P):null!=e?f.openKeyCursor(e):
f.openKeyCursor():q=null!=this.P?d.openCursor(e,this.P):null!=e?d.openCursor(e):d.openCursor():f?q=null!=this.P?f.openCursor(e,this.P):null!=e?f.openCursor(e):f.openCursor():q=null!=this.P?d.openCursor(e,this.P):null!=e?d.openCursor(e):d.openCursor();var n=this;q.onerror=function(a){var b=q.error;a.preventDefault();Cf(n,b)};null!=a?q.onsuccess=function(d){if(d=d.target.result){var e=Uc.cmp(d.key,a),f=n.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d["continue"](a);else if(null!=
b)if(Uc.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d["continue"]();else d["continue"]()}else c()}:(n.d=q,n.d.onsuccess=ia(n.Ba,n))};l.Ya=function(){return!!this.d};l.update=function(a){var b=this.d.result;if(b){var c=new D;a=b.update(a);a.onsuccess=function(a){c.o(a.target.result)};a.onerror=function(a){a.preventDefault();c.m(a)};return c}throw new Re("cursor gone");};
l.clear=function(){var a=this.d.result;if(a){var b=new D,a=a["delete"]();a.onsuccess=function(){b.o(1)};a.onerror=function(a){a.preventDefault();b.m(a)};return b}throw new Re("cursor gone");};l.advance=function(a){var b=this.d.result;if(1==a)b["continue"]();else b.advance(a)};
l.Ma=function(a){var b=this.d.result,c=Uc.cmp(a,b.primaryKey);if(c!=(this.reverse?-1:1))throw new Pb('continuing primary key "'+a+'" must '+(this.reverse?"lower":"higher")+' than current primary key "'+b.primaryKey+'"');var d=this;this.d.onsuccess=function(e){if(b=e.target.result)if(c=Uc.cmp(b.primaryKey,a),0==c||1==c&&!d.reverse||-1==c&&d.reverse)d.d.onsuccess=ia(d.Ba,d),d.R(b.key,d.f?b.primaryKey:void 0,b.value);else b["continue"]();else d.d.onsuccess=ia(d.Ba,d),d.R()};b["continue"]()};
l.oa=function(a){var b=this.d.result;if(null!=a)b["continue"](a);else b["continue"]()};l.W=function(){cg.t.W.call(this);this.d=null};l.toString=function(){return"IDB"+cg.t.toString.call(this)};function dg(a,b){this.a=b}C(dg,Xe);l=dg.prototype;l.logger=G("ydn.db.crud.req.IndexedDb");l.Qa=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?N(a,d):c(e)};f.onerror=function(b){b.preventDefault();N(a,f.error,!0)}}var d=[];0==b.length?N(a,[]):c(0)};
l.X=function(a,b,c,d,e,f){function g(s){if(null==e[s])if(J(q.logger,"empty object at "+s+" of "+e.length),k++,k==e.length)N(a,h,m);else{var A=s+10;A<e.length&&g(A)}var E,A=e[s];E=f&&null!=f[s]?b?p.put(A,f[s]):p.add(A,f[s]):b?p.put(A):p.add(A);E.onsuccess=function(b){k++;h[s]=b.target.result;k==e.length?N(a,c?h[0]:h,m):(b=s+10,b<e.length&&g(b))};E.onerror=function(b){k++;var f=E.error;J(q.logger,P(a)+n+' request to "'+d+'" cause '+f.name+' for object "'+me(e[s])+'" at index '+s+" of "+e.length+" objects.");
h[s]=f;m=!0;b.preventDefault();k==e.length?N(a,c?h[0]:h,m):(b=s+10,b<e.length&&g(b))}}var h=[],k=0,m=!1,q=this,n=b?"put":"add",p=a.a.objectStore(d);J(this.logger,P(a)+" "+n+" "+e.length+' objects to store "'+d+'"');if(0<e.length)for(var s=0;10>s&&s<e.length;s++)g(s);else N(a,[])};
l.bb=function(a,b,c){function d(k){var q=c[k],n=q.h(),p=a.a.objectStore(n),s;s=null===p.keyPath?p.put(b[k],q.id):p.put(b[k]);s.onsuccess=function(c){f++;e[k]=c.target.result;f==b.length?N(a,e,g):(c=k+10,c<b.length&&d(c))};s.onerror=function(c){f++;I(h.logger,"request result "+c.name+' error when put keys to "'+n+'" for object "'+me(b[k])+'" at index '+k+" of "+b.length+" objects.");e[k]=s.error;g=!0;c.preventDefault();f==b.length?N(a,e,g):(c=k+10,c<b.length&&d(c))}}var e=[],f=0,g=!1,h=this;J(this.logger,
P(a)+" putByKeys: of "+b.length+" objects");if(0<b.length)for(var k=0;10>k&&k<b.length;k++)d(k);else N(a,e,g)};
l.Db=function(a,b,c,d,e,f){function g(){var a={},b=e.indexOf("\n",q),d=!1,s;-1==b?(d=!0,s=e.substring(q)):(s=e.substring(q,b),q=b+1);for(var b=s.split(f),H=0;H<n.length;H++){var R=b[H];p[H]&&(p[H]==Od?R=Ba(R,'"'):"INTEGER"==p[H]?R=parseInt(R,10):"NUMERIC"==p[H]&&(R=parseFloat(R)));a[n[H]]=R}var U=k.put(a);U.onsuccess=function(a){m.push(a.target.result);d?c(m):g()};U.onerror=function(a){"DataError"==a.name&&(a=new Pe(h+": "+s.substring(0,70)));a.preventDefault();c(U.error,!0)}}var h=T(this.a,d),k=
a.objectStore(d),m=[],q=e.indexOf("\n"),n=e.substr(0,q).split(f),p=[];for(a=0;a<n.length;a++){var s=Xd(h,n[a]);s?p[a]=s.type:n[a]==h.keyPath&&(p[a]=h.type)}q++;J(this.logger,b+" Loading data  of "+n.length+"-fields record to "+d);g()};
l.cb=function(a,b,c){var d=a.a.objectStore(b);J(this.logger,P(a)+" clearById: "+b+" "+c);var e=d.openCursor(Gd.only(c));e.onsuccess=function(b){if(b=b.target.result){var c=b["delete"]();c.onsuccess=function(){N(a,1)};c.onerror=function(){N(a,c.error,!0)}}else N(a,0)};e.onerror=function(b){b.preventDefault();N(a,e.error,!0)}};
l.Fb=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?N(a,g,!0):N(a,d);else{b[h].h()!=e&&(e=b[h].h(),f=a.a.objectStore(e));var k=f["delete"](b[h].id);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f;J(this.logger,P(a)+" removeByKeys: "+b.length+" keys");var g=[];c(-1)};
l.eb=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);J(this.logger,P(a)+" clearByKeyRange: "+b+" "+c);e.onsuccess=function(b){var e=b.target.result,h=d["delete"](c);h.onsuccess=function(){N(a,e)};h.onerror=function(){N(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();N(a,e.error,!0)}};l.ub=function(a,b,c){var d=a.a.objectStore(b);J(this.logger,P(a)+" "+b+" "+c);var e=d["delete"](c);e.onsuccess=function(){N(a,void 0)};e.onerror=function(b){b.preventDefault();N(a,e.error,!0)}};
l.Eb=function(a,b,c,d){var e=a.a.objectStore(b).index(c);J(this.logger,P(a)+" clearByIndexKeyRange: "+b+":"+c+" "+d);var f=[],g=e.openCursor(d),h=0;g.onsuccess=function(b){var c=b.target.result;if(c){var d=c["delete"]();d.onsuccess=function(){h++;c["continue"]()};d.onerror=function(a){f.push(d.error);a.preventDefault();c["continue"]()}}else 0<f.length?N(a,f,!0):N(a,h)};g.onerror=function(b){b.preventDefault();N(a,g.error,!0)}};
l.Pa=function(a,b){var c=b.length,d=0;J(this.logger,P(a)+" clearByStores: "+b);for(var e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&N(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&N(a,f.error,!0)}}};
l.Va=function(a,b,c){var d=this;J(this.logger,P(a)+b+":"+c);var e=a.a.objectStore(b),f=e.get(c);f.onsuccess=function(b){J(d.logger,P(a)+" record "+c+(null!=b.target.result?" ":" not ")+" exists.");var f=b.target.result;if(!e.keyPath&&0==e.indexNames.length&&hc&&w(f)&&0<=f.indexOf(";base64,")){'"'==f.charAt(0)&&'"'==f.charAt(f.length-1)&&(f=f.substr(1,f.length-2));f=f.split(";base64,");b=f[0].split(":")[1];for(var f=window.atob(f[1]),k=f.length,m=new Uint8Array(k),q=0;q<k;++q)m[q]=f.charCodeAt(q);
N(a,new Blob([m.buffer],{type:b}))}else N(a,b.target.result)};f.onerror=function(b){b.preventDefault();N(a,f.error,!0)}};
l.zb=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)N(a,e);else{var m=b+10;m<h&&d(m)}var q;q=g.get(c[b]);q.onsuccess=function(c){f++;e[b]=c.target.result;f==h?N(a,e):(c=b+10,c<h&&d(c))};q.onerror=function(b){f++;b.preventDefault();N(a,q.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;J(this.logger,P(a)+" "+b+":"+h+" ids");if(0<h)for(b=0;10>b&&b<h;b++)d(b);else N(a,[])};
l.Ab=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.h()).get(h.id);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?N(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();N(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;J(this.logger,P(a)+" "+b.length+" ids");if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else N(a,[])};
l.Aa=function(a,b,c,d,e){if(d&&e)throw new Ob("unique count not available in IndexedDB");e=a.a.objectStore(b);b=P(a)+" "+b+(d?":"+d:"")+(c?":"+S(c):"");J(this.logger,b);var f;null!=d?(d=e.index(d),f=null!=c?d.count(c):d.count()):f=null!=c?e.count(c):e.count();f.onsuccess=function(b){N(a,b.target.result)};f.onerror=function(b){b.preventDefault();N(a,f.error,!0)}};
l.Q=function(a,b,c,d,e,f,g,h,k,m){var q=[],n=a.a.objectStore(c),p=h?k?"prevunique":"prev":k?"nextunique":"next";c=P(a)+" "+b+" "+c+(d?":"+d:"")+(e?S(e):"");h&&(c+=" reverse");k&&(c+=" unique");if(m&&t(m[0])){k=d?!t(m[1]):!0;var s=m[0],z=e?e.lower:void 0,A=e?e.upper:void 0,E=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=Dd(h?new Q(z,s,E,k):new Q(s,A,k,e));c+=" starting from "+S(m[0]);t(m[1])&&(c+=", "+S(m[1]))}J(this.logger,c);var B;B=1==b||2==b||3==b?d?n.index(d).openKeyCursor(e,p):n.openCursor(e,p):
d?n.index(d).openCursor(e,p):n.openCursor(e,p);var H=!1;B.onsuccess=function(c){if(c=c.target.result){if(!H){if(0<g){H=!0;c.advance(g);return}if(m&&d&&t(m[0]))if(t(m[1])){var e=Uc.cmp(c.key,m[0]),k=h?-1:1;if(0==e){e=Uc.cmp(c.primaryKey,m[1]);if(0==e){H=!0;c["continue"]();return}if(e==k)H=!0;else{c["continue"]();return}}else H=!0}else H=!0;else H=!0}1==b?q.push(c.key):2==b?q.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),n.keyPath?k[n.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,q.push(k)):4==b?q.push(c.value):
q.push([c.key,c.primaryKey,c.value]);if(q.length<f)c["continue"]();else m&&(m[0]=Bd(c.key),m[1]=Bd(c.primaryKey)),N(a,q)}else m&&(m[0]=void 0,m[1]=void 0),N(a,q)};B.onerror=function(b){b.preventDefault();N(a,B.error,!0)}};function eg(a,b){this.a=b}C(eg,dg);eg.prototype.logger=G("ydn.db.core.req.IndexedDb");eg.prototype.b=function(a,b,c,d){c=T(this.a,c);return new cg(a,b,c,d)};function fg(a,b){this.a=b;this.c=a}fg.prototype.logger=G("ydn.db.sql.req.nosql.Node");fg.prototype.toJSON=function(){return{sql:this.a}};fg.prototype.toString=function(){return"idb.Node:"};
fg.prototype.b=function(a,b){var c=sb(this.a.b)[0],d=this.a.g,e=this.a.yb,e=isNaN(e)?100:e,f=this.a.Bb,f=isNaN(f)?0:f,g=this.a.i,h=ag(this.a),k=null,m=this.a.gb;if(0==d.length)k=null;else if(1==d.length)k=Ed(d[0].a);else throw new Mb("too many conditions.");null===h||jd(a,function(a,b,c){var d=a;b||(d=a.map(function(a){var b=h.length;if(1==b)return Vc(a,h[0]);for(var c={},d=0;d<b;d++)c[h[d]]=Vc(a,h[d]);return c}));c(d,b)});var d=0<d.length?d[0].ba:void 0,q=P(a)+" executing on"+c;d&&(q+=":"+d);q+=
" "+Id(k);K(this.logger,q);g&&g!=this.c.keyPath?b.Q(a,4,c,g,k,e,f,m,!1):t(d)&&d!=this.c.keyPath?b.Q(a,4,c,d,k,e,f,m,!1):b.Q(a,4,c,null,k,e,f,m,!1)};function gg(a,b){fg.call(this,a,b)}C(gg,fg);
gg.prototype.b=function(a,b){var c,d=sb(this.a.b)[0],e=this.a.g,f=null;if(0==e.length)f=null;else if(1==e.length)f=Ed(e[0].a);else throw new Mb("too many conditions.");var g=this.a.e,e=0<e.length?e[0].ba:void 0,h=P(a)+" executing "+g+" on "+d;e&&(h+=":"+e);h+=" "+Id(f);K(this.logger,h);if("COUNT"==g)f?b.Aa(a,d,f,e,!1):b.Aa(a,d,null,void 0,!1);else{var k,h=ag(this.a);if(!h||0==h.length)throw new Ge("field name require for reduce operation: "+g);h=h[0];if("MIN"==g)k=hg(h);else if("MAX"==g)k=ig(h);else if("AVG"==
g)c=0,k=jg(h);else if("SUM"==g)c=0,k=kg(h);else throw new ze(g);var m;t(e)?m=new Lf(d,e,f):m=new Kf(d,f);var d=b.b(a.a,P(a),d,4),q=m.load([d]);q.r=function(b){N(a,b,!0)};var n=0;q.l=function(b){null!=b?(b=m.a?q.q():q.w(),c=k(b,c,n),q.advance(1),n++):N(a,c)}}};function jg(a){return function(b,c,d){t(c)||(c=0);return(c*d+b[a])/(d+1)}}function kg(a){return function(b,c){return c+b[a]}}function hg(a){return function(b,c){var d=b[a];return t(c)?c<d?c:d:d}}
function ig(a){return function(b,c){var d=b[a];return t(c)?c>d?c:d:d}};function jf(a,b){this.a=b}C(jf,eg);jf.prototype.logger=G("ydn.db.sql.req.IndexedDb");
jf.prototype.executeSql=function(a,b,c){if(c){for(var d=0;d<c.length;d++)b.K=b.K.replace("?",c[d]);$f(b,b.K)}b.g=bg(b);if(b.g){c=b.a.length;if(d=/OFFSET\s+(\d+)/i.exec(b.a))b.Bb=parseInt(d[1],10),c=b.a.search(/OFFSET/i);if(d=/LIMIT\s+(\d+)/i.exec(b.a))b.yb=parseInt(d[1],10),d=b.a.search(/LIMIT/i),d<c&&(c=d);(c=/ORDER BY\s+(.+)/i.exec(b.a.substr(0,c)))?(c=c[1].trim(),(d=c.match(/(ASC|DESC)/i))?(b.gb="DESC"==d[0].toUpperCase(),c=c.replace(/\s+(ASC|DESC)/i,"")):b.gb=!1,b.i=Ba(Ba(c,'"'),"'")):b.i=void 0;
c=""}else c=b.ta;if(c)throw new Ve(c);c=sb(b.b);if(1==c.length){d=T(this.a,c[0]);if(!d)throw new Se(c[0]);var e=ag(b);if(e)for(var f=0;f<e.length;f++)if(!be(d,e[f]))throw new Se('Index "'+e[f]+'" not found in '+c[0]);var g;b.e?g=new gg(d,b):g=new fg(d,b);g.b(a,this)}else throw new ze(b.K);};function lg(a,b,c,d){Bf.call(this,a,b,c,d);this.G=null;this.d=this.i=void 0}C(lg,Bf);l=lg.prototype;l.logger=G("ydn.db.core.req.WebsqlCursor");l.q=function(){return this.d};l.mb=function(a,b,c,d,e){lg.t.mb.call(this,a,b,c,d,e);this.G=w(b)?Xd(this.b,b):null};l.w=function(){return this.u};function mg(a,b){a.i=void 0;a.d=void 0;a.u=void 0;if(t(b))if(y(b)){var c=Pd(b[a.b.e],a.b.type);a.d=c;if(a.f){var d=Xd(a.b,a.j);a.i=Pd(b[a.j],d.type)}else a.i=c;a.u=a.Fa?c:ng(b,a.b)}else a.u=b}
function og(a,b,c){Xd(a.b,a.j);var d=[],e=a.j,f=a.fa,g=a.i;if(null!=f){var h=f.lower,k=f.upper,m=f.lowerOpen,q=f.upperOpen;a.reverse?k=null!=k&&-1==ld(k,g)?k:g:h=null!=h&&1==ld(h,g)?h:g;null!=h&&null!=k?f=Q.bound(h,k,!!m,!!q):f=null!=h?Gd.lowerBound(h,!!m):Gd.upperBound(k,!!q)}else f=a.reverse?Gd.upperBound(g):Gd.lowerBound(g);e=Wd(a.b,d,a.O,e,f,a.reverse,a.unique);c=a.reverse?Gd.upperBound(c,!1):Gd.lowerBound(c,!1);c=Wd(a.b,d,a.O,a.b.e,c,a.reverse,a.unique);e.n=e.n?e.n+(" AND "+c.n):c.n;c="SELECT "+
e.select+" FROM "+e.M+(e.n?" WHERE "+e.n:"")+(e.group?" GROUP BY "+e.group:"")+" ORDER BY "+e.N;c+=" LIMIT 1";J(a.logger,a+": continuePrimary:  SQL: "+c+" : "+S(d));a.e.executeSql(c,d,function(c,d){0<d.rows.length?mg(a,d.rows.item(0)):mg(a);b.call(a,a.i,a.d,a.u);b=null},function(c,d){I(a.logger,"get error: "+d.message);Cf(a,d);mg(a);b.call(a,a.d,a.i,a.u);b=null;return!1})}
function pg(a,b,c,d,e,f){var g=!d;d=[];a.f&&null!=f&&null!=c?c=$d(a.b,a.O,d,a.G.getName(),a.fa,c,g,f,a.reverse,a.unique):null!=c?(f=a.G?a.G.getName():null,c=Zd(a.b,a.O,d,f,a.fa,a.reverse,a.unique,c,g)):(c=Vd(a.b,d,a.O,a.f?a.G.d:a.b.e,a.fa,a.reverse,a.unique),a.f&&(c+=", "+a.b.d+" ASC"));c+=" LIMIT 1";0<e&&(c+=" OFFSET "+e);J(a.logger,a+": continue:  SQL: "+c+" : "+S(d));a.e.executeSql(c,d,function(c,d){0<d.rows.length?mg(a,d.rows.item(0)):mg(a);b.call(a,a.i,a.d,a.u);b=null},function(c,d){I(a.logger,
"get error: "+d.message);Cf(a,d);mg(a);b.call(a,a.d,a.i,a.u);b=null;return!1})}l.Ya=function(){return!!this.e};l.update=function(a){if(!this.Ya())throw new Re;var b=new D,c=this.q();a=ge(this.b,a,c);var d="REPLACE INTO "+Yd(this.b)+" ("+a.vb.join(", ")+") VALUES ("+a.Hb.join(", ")+")";J(this.logger,this+': update "'+d+'" : '+S(a.D));this.e.executeSql(d,a.D,function(){b.o(c)},function(a,c){b.m(c);return!1});return b};
l.advance=function(a){var b=this.i,c=this.d,d=!0;null==this.i||this.f&&null==this.d||(a-=1,d=!1);pg(this,function(a,d,g){var h=null!=b&&null!=a&&0==ld(b,a);if(this.f){var k=null!=d&&null!=c&&0==ld(d,c);if(h&&k)throw new Pb("current: "+b+";"+c+" next: "+a+";"+d);}else if(h)throw new Pb("current: "+b+" next: "+a);this.R(a,d,g)},this.i,d,a,this.d)};l.oa=function(a){null!=a?pg(this,this.R,a,!0):this.advance(1)};l.openCursor=function(a,b){pg(this,this.R,a,!1,0,b)};
l.clear=function(){if(!this.Ya())throw new Re;var a=new D,b=this.b.e,b="DELETE FROM "+Yd(this.b)+" WHERE "+b+" = ?",c=[this.q()];J(this.logger,this+': clear "'+b+'" : '+S(c));this.e.executeSql(b,c,function(b,c){a.o(c.rowsAffected)},function(b,c){a.m(c);return!1});return a};l.Ma=function(a){var b=ld(a,this.d);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new Ge(this+" to continuePrimaryKey  from "+this.d+" to "+a+" on "+this.P+" direction is wrong");og(this,this.R,a)};
l.toString=function(){return"WebSql"+lg.t.toString.call(this)};function qg(a,b){this.a=b}C(qg,Xe);l=qg.prototype;l.logger=G("ydn.db.crud.req.WebSql");
function ng(a,b){if(b.ga&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(";base64,"))return le(c);'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(";base64,"),c=d[0].split(":")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?le(a._default_):{};null!=b.keyPath&&(d=Pd(a[b.keyPath],b.type),null!=d&&fe(b,c,d));for(d=0;d<b.a.length;d++)if(e=b.index(d),
f=e.d,"_default_"!=f&&!e.f&&!e.multiEntry&&("DATE"==e.type||b.ga)&&(g=Pd(a[f],e.type),t(g)))for(var f=c,h=0;h<e.a.length;h++)h==e.a.length-1?f[e.a[h]]=g:y(f[e.a[h]])||(f[e.a[h]]={});return c}l.Db=function(){throw new Nb("putData");};
l.X=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(J(m.logger,"empty object at "+b+" of "+e.length),n++,n==e.length)K(m.logger,p+" success "+p),N(a,q,s);else{var E=b+2;E<e.length&&g(E,d)}var B;B=t(f)?ge(h,e[b],f[b]):ge(h,e[b]);E=k+Yd(h)+" ("+B.vb.join(", ")+") VALUES ("+B.Hb.join(", ")+");";J(m.logger,P(a)+" SQL: "+E+" PARAMS: "+B.D+" REQ: "+b+" of "+e.length);d.executeSql(E,B.D,function(f,p){function E(b,c){var e="ydn.db.me:"+h.getName()+":"+b.getName(),e=k+Ea(e)+" ("+h.d+", "+b.c+") VALUES (?, ?)",
f=[Kd($,h.type),Kd(c,b.type)];J(m.logger,P(a)+" multiEntry "+e+" "+f);d.executeSql(e,f,function(){},function(a,b){I(m.logger,"multiEntry index insert error: "+b.message);return!1})}n++;var $=t(B.key)?B.key:p.insertId;1>p.rowsAffected&&(s=!0,$=new Oe($+" no-op"));for(var eb=0,ud=h.a.length;eb<ud;eb++){var kb=h.index(eb);if(kb.multiEntry)for(var Hb=Vc(e[b],kb.keyPath),Nh=(Hb?Hb.length:0)||0,Ae=0;Ae<Nh;Ae++)E(kb,Hb[Ae])}c?N(a,$):(q[b]=$,n==e.length?N(a,q,s):(eb=b+2,eb<e.length&&g(eb,f)))},function(d,
f){n++;s=!0;6==f.code?f.name="ConstraintError":I(m.logger,"error: "+f.message+" "+p);if(c)N(a,f,!0);else if(q[b]=f,n==e.length)J(m.logger,"success "+p),N(a,q,s);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=T(this.a,d),k=b?"INSERT INTO ":"INSERT OR REPLACE INTO ";d=a.a;var m=this,q=[],n=0,p=P(a)+" inserting "+e.length+" objects.",s=!1;if(0<e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else K(this.logger,"success"),N(a,[])};
l.bb=function(a,b,c){if(0==c.length)N(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){var m=[];J(g.logger,"put "+k.length+" objects to "+h);for(var n=de(T(g.a,h)),q=n?void 0:[],p=0;p<k.length;p++)m.push(b[k[p]]),n||q.push(c[k[p]].id);n=hd(a);Eb(n,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&N(a,d)},function(){e++;e==f&&N(a,d,!0)});g.X(n,!1,!1,h,m,q)},k="",m=[],q=[],n=0;n<c.length;n++){var p=c[n].h(),s=c[n].id;p!=k?(f++,0<m.length&&h(k,m),m=[n],q=[s],k=p):(m.push(n),q.push(s))}0<
m.length&&h(k,m)}};l.Va=function(a,b,c){var d=a.a,e=T(this.a,b),f=this;b=e.d;c=[Kd(c,e.type)];b="SELECT * FROM "+Yd(e)+" WHERE "+b+" = ?";var g=P(a)+" SQL: "+b+" PARAMS: "+c;J(this.logger,g);d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=ng(d,e),N(a,d)):(K(f.logger,"success no result: "+g),N(a,void 0))}else K(f.logger,"success no result: "+g),N(a,void 0)},function(b,c){I(f.logger,"error: "+g+" "+c.message);N(a,c,!0);return!1})};
l.zb=function(a,b,c){function d(b,e){var n=k.d,p=[Kd(c[b],k.type)],s="SELECT * FROM "+Yd(k)+" WHERE "+n+" = ?";J(f.logger,"SQL: "+s+" PARAMS: "+p);e.executeSql(s,p,function(e,f){h++;if(0<f.rows.length){var n=f.rows.item(0);null!=n&&(g[b]=ng(n,k))}else g[b]=void 0;h==c.length?N(a,g):(n=b+10,n<c.length&&d(n,e))},function(e,k){h++;I(f.logger,"error: "+s+" "+k.message);if(h==c.length)N(a,g);else{var n=b+10;n<c.length&&d(n,e)}return!1})}var e=a.a,f=this,g=[],h=0,k=T(this.a,b);if(0<c.length)for(b=0;10>
b&&b<c.length;b++)d(b,e);else K(f.logger,"success"),N(a,[])};
l.Ab=function(a,b){function c(d,h){var q=b[d],n=q.h(),p=T(e.a,n),n=zd(q),q=p.d,n=[Kd(n,p.type)],s="SELECT * FROM "+Yd(p)+" WHERE "+q+" = ?";J(e.logger,"SQL: "+s+" PARAMS: "+n);h.executeSql(s,n,function(h,m){g++;if(0<m.rows.length){var n=m.rows.item(0);null!=n&&(f[d]=ng(n,p))}else f[d]=void 0;g==b.length?(J(e.logger,"success "+s),N(a,f)):(n=d+10,n<b.length&&c(n,h))},function(b,c){N(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else J(this.logger,
"success"),N(a,[])};
l.Pa=function(a,b){function c(d,g){function h(a){a="ydn.db.me:"+k.getName()+":"+a.getName();a="DELETE FROM  "+Ea(a);J(e.logger,"SQL: "+a);g.executeSql(a,[])}var k=T(e.a,b[d]),m="DELETE FROM  "+Yd(k);J(e.logger,"SQL: "+m+" PARAMS: []");g.executeSql(m,[],function(g){d==b.length-1?(J(e.logger,"success "+m),N(a,b.length)):c(d+1,g)},function(b,c){N(a,c,!0);return!1});for(var q=0,n=k.a.length;q<n;q++){var p=k.index(q);p.multiEntry&&h(p)}}var d=a.a,e=this;0<b.length?c(0,d):(J(this.logger,"success"),N(a,
0))};
l.Fb=function(a,b){function c(h){if(h>=b.length)N(a,f,g);else{var k=T(e.a,b[h].h()),m=Kd(b[h].id,k.type),q=" WHERE "+k.d+" = ?",n="DELETE FROM "+Yd(k)+q,p=P(a)+" SQL: "+n+" PARAMS: "+[m];d.executeSql(n,[m],function(){f++;c(h)},function(a,b){I(e.logger,"error: "+p+b.message);g=!0;c(h);return!1});h++;for(var n=function(b){b="ydn.db.me:"+k.getName()+":"+b.getName();b="DELETE FROM  "+Ea(b)+q;J(e.logger,P(a)+NaN+b);d.executeSql(b,[m])},s=0,z=k.a.length;s<z;s++){var A=k.index(s);A.multiEntry&&n(A)}}}var d=
a.a,e=this,f=0,g=!1;J(this.logger,P(a)+" removeByKeys: "+b.length+" keys");c(0)};
l.cb=function(a,b,c){function d(b){b="ydn.db.me:"+f.getName()+":"+b.getName();b="DELETE FROM  "+Ea(b)+k;J(h.logger,P(a)+NaN+b);e.executeSql(b,[g])}var e=a.a,f=T(this.a,b),g=Kd(c,f.type),h=this,k=" WHERE "+f.d+" = ?";b="DELETE FROM "+Yd(f)+k;J(this.logger,P(a)+" SQL: "+b+" PARAMS: "+[g]);e.executeSql(b,[g],function(b,c){N(a,c.rowsAffected)},function(b,c){N(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var m=f.index(b);m.multiEntry&&d(m)}};l.ub=function(a,b,c){rg(this,a,b,void 0,c)};
l.eb=function(a,b,c){rg(this,a,b,void 0,c)};l.Eb=function(a,b,c,d){rg(this,a,b,c,d)};
function rg(a,b,c,d,e){function f(c){c="ydn.db.me:"+h.getName()+":"+c.getName();c="DELETE FROM  "+Ea(c)+q;J(a.logger,P(b)+NaN+c);g.executeSql(c,m)}var g=b.a,h=T(a.a,c);c="DELETE FROM "+Yd(h);var k=[],m=[],q="";null!=e&&(t(d)?(d=Xd(h,d),Jd(d.c,d.type,e,m,k)):Jd(h.d,h.type,e,m,k),q=" WHERE "+m.join(" AND "));c+=q;var n=P(b)+" SQL: "+c+" PARAMS: "+k;J(a.logger,n);g.executeSql(c,k,function(c,d){J(a.logger,"success "+n);N(b,d.rowsAffected)},function(c,d){I(a.logger,"error: "+n+d.message);N(b,d,!0);return!1});
e=0;for(d=h.a.length;e<d;e++)c=h.index(e),c.multiEntry&&f(c)}l.Qa=function(a,b){function c(g){var h="SELECT COUNT(*) FROM "+Ea(b[g]);J(e.logger,"SQL: "+h+" PARAMS: []");d.executeSql(h,[],function(d,e){var h=e.rows.item(0);f[g]=parseInt(h["COUNT(*)"],10);g++;g==b.length?N(a,f):c(g)},function(b,c){N(a,c,!0);return!1})}var d=a.a,e=this,f=[];0==b.length?(J(this.logger,"success"),N(a,0)):c(0)};
l.Aa=function(a,b,c,d,e){var f=[];b=Vd(T(this.a,b),f,6,d,c,!1,e);J(this.logger,P(a)+" SQL: "+b+" PARAMS: "+f);a.a.executeSql(b,f,function(b,c){var d=c.rows.item(0);N(a,He(d))},function(b,c){N(a,c,!0);return!1})};
l.Q=function(a,b,c,d,e,f,g,h,k,m){var q=this,n=[],p=T(this.a,c),s=p.e,z=p.type,A=z,E=null!=d&&d!==s?Xd(p,d):null,B=d||s;E&&(A=E.type);c=[];if(m&&t(m[0])){var H=m[0];E&&t(m[1])?(d=m[1],e=$d(p,b,c,E.getName(),e,H,!0,d,h,k)):e=Zd(p,b,c,d,e,h,k,H,!0)}else e=Vd(p,c,b,B,e,h,k);x(f)&&(e+=" LIMIT "+f);x(g)&&(e+=" OFFSET "+g);var R=a+" SQL: "+e+" ;params= "+S(c);J(this.logger,R);a.a.executeSql(e,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?n[g]=Pd(f[s],z):1==b?n[g]=Pd(f[B],A):
3==b?n[g]=[Pd(f[B],A),Pd(f[s],z)]:null!=f&&(n[g]=ng(f,p));K(q.logger,"success "+a);m&&f&&(m[0]=Pd(f[B],A),m[1]=Pd(f[s],z));N(a,n)},function(b,c){I(q.logger,"error: "+R+c.message);N(a,c,!0);return!1})};function sg(a,b){this.a=b}C(sg,qg);sg.prototype.logger=G("ydn.db.core.req.WebSql");sg.prototype.b=function(a,b,c,d){c=T(this.a,c);return new lg(a,b,c,d)};function tg(a,b){this.b=b;this.d=a;this.a=ag(b)}tg.prototype.logger=G("ydn.db.sql.req.websql.Node");tg.prototype.toJSON=function(){return{sql:this.b.K}};tg.prototype.toString=function(){return"websql.Node:"};function ug(a,b){if(a.a){if(1==a.a.length){if(y(b))return Rb(b,a.a[0]);return}for(var c={},d=0;d<a.a.length;d++)c[a.a[d]]=Rb(b,a.a[d]);return c}return ng(b,a.d)}
tg.prototype.c=function(a,b,c){var d=this,e=[];b.executeSql(this.b.K,c,function(b,c){for(var h=c.rows.length,k=0;k<h;k++){var m=c.rows.item(k);if(y(m))var q=ug(d,m);e.push(q)}a(e)},function(b,c){I(d.logger,"Sqlite error: "+c.message);a(c,!0);return!0})};function vg(a,b){tg.call(this,a,b)}C(vg,tg);vg.prototype.c=function(a,b,c){var d=this;b.executeSql(this.b.K,c,function(b,c){var d=c.rows.length;if(1==d)d=He(c.rows.item(0)),a(d);else if(0==d)a(void 0);else throw new Qe;},function(b,c){I(d.logger,"Sqlite error: "+c.message);a(c,!0);return!0})};function kf(a,b){this.a=b}C(kf,sg);kf.prototype.logger=G("ydn.db.sql.req.WebSql");kf.prototype.executeSql=function(a,b,c){var d=sb(b.b);if(1==d.length){var e=T(this.a,d[0]);if(!e)throw new Se(d[0]);var f=ag(b);if(f)for(var g=0;g<f.length;g++)if(!be(e,f[g]))throw new Se('Index "'+f[g]+'" not found in '+d[0]);var h;b.e?h=new vg(e,b):h=new tg(e,b);h.c(function(b,c){N(a,b,c)},a.a,c)}else throw new ze(b.K);};function wg(a,b,c,d){hf.call(this,a,b,c,d)}C(wg,Vf);wg.prototype.executeSql=function(a,b){for(var c=new Zf(a),d=sb(c.b),e=0;e<d.length;e++){var f=T(this.b,d[e]);if(!f)throw new F("store: "+f+" not exists.");}K(this.logger,"executeSql: "+a+" params: "+b);var g=this.a.request("sql",sb(c.b),c.c);O(g,function(){W(this).executeSql(g,c,b||[])},this);return g};function xg(a,b,c){X.call(this,a,b,c)}C(xg,Yf);xg.prototype.ia=function(a,b){return new wg(this,this.b,a,b)};xg.prototype.executeSql=function(a,b){return this.a.executeSql(a,b)};function yg(a,b){t(a)&&5242880<a&&Lc(this.logger,yc,"storage size request ignored, use Quota Management API instead");this.s=null;this.ra=b||NaN}l=yg.prototype;
l.ib=function(a,b){function c(a,c,d){K(e.logger,(d?"changing":"upgrading")+" version to "+a.version+" from "+g);for(d=0;d<b.stores.length;d++)zg(e,a,c,b.stores[d]);c=a.objectStoreNames;var f=c.length;for(d=0;d<f;d++)te(b,c[d])||(a.deleteObjectStore(c[d]),K(e.logger,"store: "+c[d]+" deleted."))}function d(a,b){f.c?I(e.logger,"database already set."):t(b)?(I(e.logger,b?b.message:"Error received."),e.s=null,f.m(b)):(e.s=a,e.s.onabort=function(a){J(e.logger,e+": abort");e.Ka(a.target.error)},e.s.onerror=
function(a){J(e.logger,e+": error");e.Ka(a.target.error)},e.s.onversionchange=function(a){J(e.logger,e+" closing connection for onversionchange to: "+a.version);if(e.s&&(e.s.onabort=null,e.s.onblocked=null,e.s.onerror=null,e.s.onversionchange=null,e.ab(a),!a.defaultPrevented)){e.s.close();e.s=null;var b=Error();b.name=a.type;e.kb(b)}},f.o(parseFloat(g)))}var e=this,f=new D,g=void 0,h=b.version;Lc(this.logger,Cc,"Opening database: "+a+" ver: "+(b.b?"auto":h));var k;k=t(h)?Uc.open(a,h):Uc.open(a);k.onsuccess=
function(f){var h=f.target.result;t(g)||(g=h.version);Lc(e.logger,Cc,"Database: "+h.name+", ver: "+h.version+" opened.");if(b.b)e.Z(function(f){if(b instanceof we)for(var g=0;g<f.stores.length;g++)te(b,f.stores[g].getName())||xe(b,f.stores[g].C());f=ue(b,f,!1,!0);if(0<f.length){Lc(e.logger,Cc,"Schema change require for difference in "+f);var k=x(h.version)?h.version+1:1;if("IDBOpenDBRequest"in r){h.close();var m=Uc.open(a,k);m.onupgradeneeded=function(a){a=a.target.result;Lc(e.logger,Cc,"re-open for version "+
a.version);c(a,m.transaction,!1)};m.onsuccess=function(a){d(a.target.result)};m.onerror=function(){Lc(e.logger,Cc,e+": fail.");d(null)}}else{var n=h.setVersion(k+"");n.a=function(a){I(e.logger,"migrating from "+h.version+" to "+k+" failed.");d(null,a)};n.onsuccess=function(){n.transaction.oncomplete=B;c(h,n.transaction,!0)};var B=function(){var b=Uc.open(a);b.onsuccess=function(a){a=a.target.result;Lc(e.logger,Cc,e+": OK.");d(a)};b.onerror=function(){Lc(e.logger,Cc,e+": fail.");d(null)}};null!=n.transaction&&
(n.transaction.oncomplete=B)}}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){I(e.logger,"migrating from "+h.version+" to "+b.version+" failed.");d(null,a)};k.onsuccess=function(){c(h,k.transaction,!0)}}else b.version==h.version?Lc(e.logger,Cc,"database version "+h.version+" ready to go"):I(e.logger,"connected database version "+h.version+" is higher than requested version."),e.Z(function(a){a=ue(b,a,!1,!0);0<a.length?(Lc(e.logger,Cc,a),d(null,new Ee("different schema: "+
a))):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;Lc(this.logger,Cc,"upgrade needed for version "+a.version);c(a,k.transaction,!1)};k.onerror=function(c){Mc(e.logger,'open request to database "'+a+'" '+(t(b.version)?" with version "+b.version:"")+" cause error of "+k.error.name);d(null,c)};k.onblocked=function(c){Mc(e.logger,"database "+a+" "+b.version+" block, close other connections.");d(null,c)};x(this.ra)&&!isNaN(this.ra)&&setTimeout(function(){"done"!=k.readyState&&
(Mc(e.logger,e+": database state is still "+k.readyState),d(null,new We("connection timeout after "+e.ra)))},this.ra);return f};l.ra=18E4;l.kb=function(){};l.Ka=function(){};l.ab=function(){};l.Lb=function(){return"indexeddb"};l.jb=function(){return!!this.s};l.logger=G("ydn.db.con.IndexedDb");l.s=null;l.Mb=function(){return this.s?parseFloat(this.s.version):void 0};
l.Z=function(a,b,c){c=c||this.s;if(t(b)){if(null===b){if(0==c.objectStoreNames.length){a(new re(c.version));return}throw new De;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new re(c.version));return}b=c.transaction(b,Sc)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],m=0,q=h.indexNames.length;m<q;m++){var n=h.index(h.indexNames[m]);k[m]=new Md(n.keyPath,void 0,n.unique,n.multiEntry,n.name)}f[d]=
new Td(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new re(c.version,f);a(b)};
function zg(a,b,c,d){function e(){var a={autoIncrement:!!d.b};null!=d.keyPath&&(a.keyPath=d.keyPath);return b.createObjectStore(d.getName(),a)}Lc(a.logger,Dc,"Creating Object Store for "+d.getName()+" keyPath: "+d.keyPath);if(b.objectStoreNames.contains(d.getName())){c=c.objectStore(d.getName());Rd(d.keyPath||"",c.keyPath||"")?(b.deleteObjectStore(d.getName()),Lc(a.logger,yc,"store: "+d.getName()+" deleted due to keyPath change."),c=e()):ca(c.autoIncrement)&&ca(d.b)&&c.autoIncrement!=d.b&&(b.deleteObjectStore(d.getName()),
Lc(a.logger,yc,"store: "+d.getName()+" deleted due to autoIncrement change."),c=e());for(var f=c.indexNames,g=0;g<d.a.length;g++){var h=d.index(g);!f.contains(h.getName())&&h.e&&(c.clear(),Lc(a.logger,yc,"store: "+d.getName()+" cleared since generator index need re-indexing."))}for(var k=0,m=0,q=0,g=0;g<d.a.length;g++){var h=d.index(g),n=!1;if(f.contains(h.getName())){var p=c.index(h.getName()),s=null!=p.unique&&null!=h.unique&&p.unique!=h.unique,z=null!=p.multiEntry&&null!=h.multiEntry&&p.multiEntry!=
h.multiEntry,p=null!=p.keyPath&&null!=h.keyPath&&!!Rd(p.keyPath,h.keyPath);if(s||z||p)c.deleteIndex(h.getName()),n=!0,k--,q++}else"BLOB"!=h.type&&(n=!0);n&&(h.unique||h.multiEntry?(n={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,n)):c.createIndex(h.getName(),h.keyPath),k++)}for(g=0;g<f.length;g++)be(d,f[g])||(c.deleteIndex(f[g]),m++);Lc(a.logger,Dc,"Updated store: "+c.name+", "+k+" index created, "+m+" index deleted, "+q+" modified.")}else{c=e();for(g=0;g<d.a.length;g++)h=
d.index(g),"BLOB"==h.type?Lc(a.logger,zc,"Index "+h+" of blob data type ignored."):(Lc(a.logger,Dc,"Creating index: "+h),h.unique||h.multiEntry?(n={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,n)):c.createIndex(h.getName(),h.keyPath));Lc(a.logger,Dc,"Created store: "+c)}}
l.Ta=function(a,b,c,d){var e=this.s;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d("complete",a)},b.onabort=function(a){d("abort",a)},a(b),a=null)};l.close=function(){Lc(this.logger,Dc,this+" closing connection");this.s.close()};l.toString=function(){return"IndexedDB:"+(this.s?this.s.name+":"+this.s.version:"")};
md.push(function(a,b){if(!Uc||b&&"indexeddb"!=b)return null;var c=Uc.deleteDatabase(a),d=new M("IDBVersionChangeEvent ");c.onblocked=function(a){Pc(d,a)};c.onerror=function(a){d.m(a)};c.onsuccess=function(a){d.o(a)};return d});function Ag(a,b){this.a=t(a)?a:4194304;this.b=b||"websql"}l=Ag.prototype;
l.ib=function(a,b){function c(b,c){var f=b.version?parseInt(b.version,10):0,g=c.b?isNaN(f)?1:f+1:c.version;Nc(e.logger,a+": changing version from "+b.version+" to "+g);var h=!1,k=0;b.changeVersion(b.version,g+"",function(a){e.Z(function(b){h=!0;for(var d=0;d<c.count();d++){var f=T(b,(c.stores[d]||null).getName()),f=f?ce(f,c.stores[d]||null):null;Bg(e,a,c.stores[d]||null,function(a){a&&k++},f)}for(d=0;d<b.count();d++)f=b.stores[d]||null,te(c,f.getName())||(c instanceof we?xe(c,f):(f="DROP TABLE "+
Yd(f),K(e.logger,f),a.executeSql(f,[],function(){},function(a,b){throw b;})))},a,b)},function(c){Mc(e.logger,"SQLError "+c+" "+c.code+"("+c.message+") while changing version from "+b.version+" to "+g+" on "+a);throw c;},function(){if(h){var f=".";k!=c.stores.length&&(f=" but unexpected stores exists.");J(e.logger,a+":"+b.version+" ready"+f);d(b)}else I(e.logger,a+": changing version voided.")})}function d(a,b){t(b)?(e.B=null,g.m(b)):(e.B=a,g.o(parseFloat(f)))}var e=this,f=NaN,g=new D,h=null;try{"sqlite"==
this.b?r.sqlitePlugin?(h=r.sqlitePlugin.openDatabase(a,"",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(I(this.logger,"sqlitePlugin not found."),h=null,this.La=Error("sqlitePlugin not found.")):h=r.openDatabase(a,"",a,this.a)}catch(k){if("SECURITY_ERR"==k.name)I(this.logger,"SECURITY_ERR for opening "+a),h=null,this.La=new Ue(k);else throw k;}if(h){var f=h.version||"",m="database "+a+(0==f.length?"":" version "+h.version);
null!=b.version&&b.version==h.version?(Nc(e.logger,"Existing "+m+" opened as requested."),d(h)):this.Z(function(a){(a=ue(b,a,!0,!1))?(0==f?Nc(e.logger,"New "+m+" created."):b.b?Nc(e.logger,"Existing "+m+" opened and schema change for "+a):Nc(e.logger,"Existing "+m+" opened and  schema change to version "+b.version+" for "+a),c(h,b)):(Nc(e.logger,"Existing "+m+" with same schema opened."),d(h))},null,h)}else d(null,this.La);return g};l.Lb=function(){return this.b};l.La=null;l.B=null;l.logger=G("ydn.db.con.WebSql");
l.kb=function(){};l.Ka=function(){};
function Cg(a){var b=a.l,c="CREATE TABLE IF NOT EXISTS "+Yd(a)+" (",d=a.d,c=c+(d+" "+b+" PRIMARY KEY ");a.b&&(c+=" AUTOINCREMENT ");if(!a.ga||!a.keyPath&&0==a.a.length)c+=" ,_default_ BLOB";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),m="";if(k.multiEntry){var m="ydn.db.me:"+a.getName()+":"+k.getName(),q=k.unique?" UNIQUE ":"",k="CREATE TABLE IF NOT EXISTS "+Ea(m)+" ("+d+" "+b+", "+k.c+" "+k.g+q+")";e.push(k)}else k.unique&&(m=" UNIQUE "),q=k.keyPath,"BLOB"!=k.type&&w(q)&&(q="CREATE "+
m+" INDEX IF NOT EXISTS "+Ea(a.getName()+"-"+k.getName())+" ON "+Yd(a)+" ("+k.c+")",e.push(q)),q=k.c,-1==f.indexOf(q)&&(c+=", "+q+" "+k.g+m,f.push(q))}e.unshift(c+")");return e}l.Mb=function(){return this.B?parseFloat(this.B.version):void 0};
l.Z=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if("__WebKitDatabaseInfoTable__"!=e.name&&"sqlite_sequence"!=e.name&&"table"==e.type){var p="sql"in e?e.sql:void 0;J(f.logger,"Parsing table schema from SQL: "+p);for(var s=p.substr(p.indexOf("("),p.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),z=void 0,A,p=[],E=!1,B=!1,H=0;H<s.length;H++){var R=s[H].match(/\w+|"[^"]+"/g),U=lb(R,function(a){return a.toUpperCase()}),$=Ba(R[0],
'"'),R=Nd(U[1]);if(-1!=U.indexOf("PRIMARY")&&-1!=U.indexOf("KEY")){A=R;if(w($)&&!ra($)&&"_ROWID_"!=$){var eb=$.split(","),z=$;1<eb.length&&(z=eb,A=void 0)}-1!=U.indexOf("AUTOINCREMENT")&&(E=!0)}else if("_ROWID_"!=$)if("_default_"==$)B=!0;else{var ud="UNIQUE"==U[2];0==$.lastIndexOf(e.tbl_name+"-",0)&&($=$.substr(e.tbl_name.length+1));U=new Md($,R,ud);p.push(U)}}if(0==e.name.lastIndexOf("ydn.db.me:",0)){var kb=e.name.split(":");if(3<=kb.length){var Hb=kb[1],z=new Md(kb[2],R,ud,!0),s=pb(p,function(a){return a.getName()==
kb[2]});0<=s?p[s]=z:p.push(z);s=pb(h,function(a){return a.getName()===Hb});0<=s?(H=h[s],h[s]=new Td(H.getName(),H.keyPath,E,A,p,void 0,!B)):h.push(new Td(Hb,void 0,!1,void 0,[z]));J(f.logger,'multi entry index "'+z.getName()+'" found in '+Hb+(-1==s?"*":""))}else I(f.logger,'Invalid multiEntry store name "'+e.name+'"')}else H=pb(h,function(a){return a.getName()===e.name}),0<=H?(s=h[H].index(0),p.push(s),h[H]=new Td(e.name,z,E,A,p,void 0,!B)):(p=new Td(e.name,z,E,A,p,void 0,!B),h.push(p))}}d=new re(g,
h);a(d)}}var f=this,g=(c=c||this.B)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql("SELECT * FROM sqlite_master",[],e,d):c.readTransaction(function(b){f.Z(a,b,c)},function(a){Mc(f.logger,"opening tx: "+a.message);throw a;},e)};
function Bg(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){g++;g==h.length&&(d(!0),d=null)},function(b,e){g++;g==h.length&&(d(!1),d=null);var f="SQLError creating table: "+c.getName()+" "+e.message+' for executing "'+a;throw new Te(e,f);})}var g=0,h=Cg(c),k="Create";if(e){e=he(c,e);if(0==e.length){J(a.logger,"same table "+c.getName()+" exists.");d(!0);d=null;return}k="Modify";I(a.logger,"table: "+c.getName()+" has changed by "+e+" ALTER TABLE cannot run in WebSql, dropping old table.");h.unshift("DROP TABLE IF EXISTS "+
Ea(c.getName()))}J(a.logger,k+" table: "+c.getName()+": "+h.join(";"));for(a=0;a<h.length;a++)f(h[a])}l.jb=function(){return!!this.B};l.close=function(){this.B=null};
l.Ta=function(a,b,c,d){function e(a){J(h.logger,h+": Tx "+c+" request cause error.");d("abort",a)}function f(){d("complete",{type:"complete"})}function g(b){a(b)}var h=this;null===this.B&&(a(null),d("abort",this.La));c==Sc?this.B.readTransaction(g,e,f):c==Tc?this.B.changeVersion(this.B.version,this.B.version+1+"",g,e,f):this.B.transaction(g,e,f)};
md.push(function(a,b){if(da(r.openDatabase)&&(!b||"websql"==b)){var c=new Ag,d=new we;K(c.logger,"deleting websql database: "+a);var d=c.ib(a,d),e=function(){var b=c.logger;b&&b.log(zc,"all tables in "+a+" deleted.",void 0)};d.I(function(){c.Ta(function(b){b.executeSql('SELECT * FROM sqlite_master WHERE type = "table"',[],function(d,e){if(e&&e.rows){for(var k=e.rows.length,m=0,q=0;q<k;q++){var n=e.rows.item(q);"__WebKitDatabaseInfoTable__"!=n.name&&"sqlite_sequence"!=n.name&&(m++,J(c.logger,"deleting table: "+
n.name),b.executeSql("DROP TABLE "+n.name))}K(c.logger,m+' tables deleted from "'+a+'"')}},function(a,b){throw b;})},[],L,e)});d.qb(function(){I(c.logger,"Connecting "+a+" failed.")})}});Ag.prototype.ab=function(){};Ag.prototype.toString=function(){return"WebSql:"+(this.B?":"+this.B.version:"")};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
yf.prototype.Ra=function(a){return"indexeddb"==a&&Uc?new yg(this.i,this.u):"sqlite"==a&&r.sqlitePlugin?new Ag(this.i,"sqlite"):"websql"==a&&da(r.openDatabase)?new Ag(this.i):null};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
xg.prototype.executeSql=xg.prototype.executeSql;wg.prototype.executeSql=wg.prototype.executeSql;function Dg(a,b,c){X.call(this,a,b,c)}C(Dg,xg);la("ydn.db.Storage",Dg);function Eg(){this.a=ka()}var Fg=new Eg;Eg.prototype.get=function(){return this.a};function Gg(a){this.d=a||"";this.e=Fg}Gg.prototype.a=!0;Gg.prototype.b=!1;function Hg(a){a=new Date(a.f);return Ig(a.getFullYear()-2E3)+Ig(a.getMonth()+1)+Ig(a.getDate())+" "+Ig(a.getHours())+":"+Ig(a.getMinutes())+":"+Ig(a.getSeconds())+"."+Ig(Math.floor(a.getMilliseconds()/10))}function Ig(a){return 10>a?"0"+a:String(a)}function Jg(a,b){var c=(a.f-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d}function Kg(a){Gg.call(this,a)}C(Kg,Gg);Kg.prototype.b=!0;
Kg.prototype.c=function(a){var b;switch(a.e.value){case wc.value:b="dbg-sh";break;case xc.value:b="dbg-sev";break;case yc.value:b="dbg-w";break;case zc.value:b="dbg-i";break;default:b="dbg-f"}var c=[];c.push(this.d," ");this.a&&c.push("[",Hg(a),"] ");c.push("[",Aa(Jg(a,this.e.get())),"s] ");c.push("[",ta(a.c),"] ");c.push('<span class="',b,'">',sa(Aa(ta(a.d))));this.b&&a.b&&c.push("<br>",sa(Aa(a.a||"")));c.push("</span>");c.push("<br>");return c.join("")};function Lg(a){Gg.call(this,a)}C(Lg,Gg);
Lg.prototype.c=function(a){var b=[];b.push(this.d," ");this.a&&b.push("[",Hg(a),"] ");b.push("[",Jg(a,this.e.get()),"s] ");b.push("[",a.c,"] ");b.push(a.d);this.b&&a.b&&b.push("\n",a.a);b.push("\n");return b.join("")};function Mg(){this.e=ia(this.f,this);this.a=new Lg;this.a.a=!1;this.b=this.a.b=!1;this.c="";this.d={}}Mg.prototype.f=function(a){if(!this.d[a.c]){var b=this.a.c(a),c=Ng;if(c)switch(a.e){case wc:Og(c,"info",b);break;case xc:Og(c,"error",b);break;case yc:Og(c,"warn",b);break;default:Og(c,"debug",b)}else window.opera?window.opera.postError(b):this.c+=b}};var Ng=window.console;function Og(a,b,c){if(a[b])a[b](c);else a.log(c)};var Pg=!fc||fc&&9<=nc;!gc&&!fc||fc&&fc&&9<=nc||gc&&lc("1.9.1");fc&&lc("9");function Qg(a,b){var c;c=a.className;c=w(c)&&c.match(/\S+/g)||[];for(var d=ub(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)qb(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e};function Rg(a,b){Qb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Sg?a.setAttribute(Sg[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Sg={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Tg(a,b,c){function d(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!v(f)||y(f)&&0<f.nodeType?d(f):jb(Ug(f)?sb(f):f,d)}}function Ug(a){if(a&&"number"==typeof a.length){if(y(a))return"function"==typeof a.item||"string"==typeof a.item;if(da(a))return"function"==typeof a.item}return!1}function Vg(a){this.a=a||r.document||document}
function Wg(a,b){var c;c=a.a;var d=b&&"*"!=b?b.toUpperCase():"";c.querySelectorAll&&c.querySelector&&d?c=c.querySelectorAll(d+""):c=c.getElementsByTagName(d||"*");return c}
Vg.prototype.b=function(a,b,c){var d=this.a,e=arguments,f=e[0],g=e[1];if(!Pg&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',ta(g.name),'"');if(g.type){f.push(' type="',ta(g.type),'"');var h={};Tb(h,g);delete h.type;g=h}f.push(">");f=f.join("")}f=d.createElement(f);g&&(w(g)?f.className=g:u(g)?Qg.apply(null,[f].concat(g)):Rg(f,g));2<e.length&&Tg(d,f,e);return f};
Vg.prototype.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function Xg(a){this.e=ia(this.f,this);this.b=new Kg;this.c=this.b.a=!1;this.a=a;this.d=this.a.ownerDocument||this.a.document;a=(a=this.a)?new Vg(9==a.nodeType?a:a.ownerDocument||a.document):pa||(pa=new Vg);var b=null,c=a.a;fc&&c.createStyleSheet?(a=b=c.createStyleSheet(),fc&&t(a.cssText)?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}"):(c=Wg(a,"head")[0],c||(b=Wg(a,"body")[0],c=a.b("head"),b.parentNode.insertBefore(c,b)),a=b=a.b("style"),fc&&t(a.cssText)?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}",c.appendChild(b));this.a.className+=" logdiv"}
Xg.prototype.f=function(a){var b=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,c=this.d.createElement("div");c.className="logmsg";c.innerHTML=this.b.c(a);this.a.appendChild(c);b&&(this.a.scrollTop=this.a.scrollHeight)};Xg.prototype.clear=function(){this.a.innerHTML=""};var Yg=!fc||fc&&9<=nc,Zg=fc&&!lc("9");!hc||lc("528");gc&&lc("1.9b")||fc&&lc("8")||ec&&lc("9.5")||hc&&lc("528");gc&&!lc("8")||fc&&lc("9");function $g(a){$g[" "](a);return a}$g[" "]=function(){};function ah(a,b){qd.call(this,a?a.type:"");this.b=this.target=null;this.clientY=this.clientX=0;this.a=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.b=b;var c=a.relatedTarget;if(c&&gc)try{$g(c.nodeName)}catch(d){}this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.a=a;a.defaultPrevented&&this.preventDefault()}}C(ah,qd);
ah.prototype.preventDefault=function(){ah.t.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Zg)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var bh=null,ch=null;G("ydn.debug");la("ydn.debug.log",function(a,b,c){if(x(b))b=new vc("log",b);else if(w(b)){b=b.toUpperCase();if(!Fc){Fc={};for(var d=0,e;e=Ec[d];d++)Fc[e.value]=e,Fc[e.name]=e}b=Fc[b]||null}else b=Bc;G(a||"ydn").b=b;t(c)?ch||(a=ch=new Xg(c),!0!=a.c&&(c=Kc(),b=a.e,c.a||(c.a=[]),c.a.push(b),a.c=!0),Kc().b=yc):bh||ch||(a=bh=new Mg,!0!=a.b&&(c=Kc(),b=a.e,c.a||(c.a=[]),c.a.push(b),a.b=!0),Kc().b=yc)});function dh(a,b){nd.call(this);this.d=b;this.b=[];if(a>this.d)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.b.push(this.a())}C(dh,nd);dh.prototype.a=function(){return{}};dh.prototype.c=function(a){if(y(a))if(da(a.Sa))a.Sa();else for(var b in a)delete a[b]};dh.prototype.W=function(){dh.t.W.call(this);for(var a=this.b;a.length;)this.c(a.pop());delete this.b};function eh(){this.a=[];this.c=new Yb;this.d=new Yb;this.f=1;this.e=new dh(0,4E3);this.e.a=function(){return new fh};this.g=new dh(0,50);this.g.a=function(){return new gh};var a=this;this.b=new dh(0,2E3);this.b.a=function(){return String(a.f++)};this.b.c=function(){}}G("goog.debug.Trace");function gh(){this.time=this.count=0}gh.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");return a.join("")};function fh(){}
function hh(a,b,c){var d=[];-1==b?d.push("    "):d.push(ih(a.b-b));d.push(" ",jh(a.b-0));0==a.a?d.push(" Start        "):1==a.a?(d.push(" Done "),d.push(ih(a.e-a.startTime)," ms ")):d.push(" Comment      ");d.push(c,a);0<a.d&&d.push("[VarAlloc ",a.d,"] ");return d.join("")}fh.prototype.toString=function(){return null==this.type?this.c:"["+this.type+"] "+this.c};
eh.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.a.length;d++){var e=this.a[d];1==e.a&&c.pop();a.push(" ",hh(e,b,c.join("")));b=e.b;a.push("\n");0==e.a&&c.push("|  ")}if(0!=this.c.wb()){var f=ka();a.push(" Unstopped timers:\n");Xb(this.c,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",jh(b.startTime),")\n")})}b=this.d.pa();for(d=0;d<b.length;d++)c=this.d.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",0,"\n","Total comments created ",
0,"\n","Overhead start: ",0," ms\n","Overhead end: ",0," ms\n","Overhead comment: ",0," ms\n");return a.join("")};function ih(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function jh(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new eh;var kh="closure_listenable_"+(1E6*Math.random()|0);function lh(a){try{return!(!a||!a[kh])}catch(b){return!1}}var mh=0;function nh(a,b,c,d,e){this.ca=a;this.d=null;this.src=b;this.type=c;this.b=!!d;this.c=e;this.key=++mh;this.a=this.xa=!1}function oh(a){a.a=!0;a.ca=null;a.d=null;a.src=null;a.c=null};function ph(a){this.src=a;this.a={};this.b=0}ph.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=qh(a,b,d,e);-1<g?(b=a[g],c||(b.xa=!1)):(b=new nh(b,this.src,f,!!d,e),b.xa=c,a.push(b));return b};function rh(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=ib(d,b),f;(f=0<=e)&&hb.splice.call(d,e,1);f&&(oh(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}
function qh(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.a&&f.ca==b&&f.b==!!c&&f.c==d)return e}return-1};var sh="closure_lm_"+(1E6*Math.random()|0),th={},uh=0;function vh(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)vh(a,b[f],c,d,e);else c=wh(c),lh(a)?a.V.add(String(b),c,!1,d,e):xh(a,b,c,!1,d,e)}function xh(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=yh(a);h||(a[sh]=h=new ph(a));c=h.add(b,c,d,e,f);c.d||(d=zh(),c.d=d,d.src=a,d.ca=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Ah(b.toString()),d),uh++)}
function zh(){var a=Bh,b=Yg?function(c){return a.call(b.src,b.ca,c)}:function(c){c=a.call(b.src,b.ca,c);if(!c)return c};return b}function Ch(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)Ch(a,b[f],c,d,e);else c=wh(c),lh(a)?a.V.add(String(b),c,!0,d,e):xh(a,b,c,!0,d,e)}
function Dh(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)Dh(a,b[f],c,d,e);else(c=wh(c),lh(a))?(a=a.V,b=String(b).toString(),b in a.a&&(f=a.a[b],c=qh(f,c,d,e),-1<c&&(oh(f[c]),hb.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=yh(a))&&(b=a.a[b.toString()],a=-1,b&&(a=qh(b,c,!!d,e)),(c=-1<a?b[a]:null)&&Eh(c))}
function Eh(a){if(!x(a)&&a&&!a.a){var b=a.src;if(lh(b))rh(b.V,a);else{var c=a.type,d=a.d;b.removeEventListener?b.removeEventListener(c,d,a.b):b.detachEvent&&b.detachEvent(Ah(c),d);uh--;(c=yh(b))?(rh(c,a),0==c.b&&(c.src=null,b[sh]=null)):oh(a)}}}function Ah(a){return a in th?th[a]:th[a]="on"+a}function Fh(a,b,c,d){var e=1;if(a=yh(a))if(b=a.a[b.toString()])for(b=sb(b),a=0;a<b.length;a++){var f=b[a];f&&f.b==c&&!f.a&&(e&=!1!==Gh(f,d))}return Boolean(e)}
function Gh(a,b){var c=a.ca,d=a.c||a.src;a.xa&&Eh(a);return c.call(d,b)}
function Bh(a,b){if(a.a)return!0;if(!Yg){var c=b||aa("window.event"),d=new ah(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.b;f;f=f.parentNode)c.push(f);for(var f=a.type,h=c.length-1;0<=h;h--)d.b=c[h],e&=Fh(c[h],f,!0,d);for(h=0;h<c.length;h++)d.b=c[h],e&=Fh(c[h],f,!1,d)}return e}return Gh(a,new ah(b,this))}function yh(a){a=a[sh];return a instanceof ph?a:null}
var Hh="__closure_events_fn_"+(1E9*Math.random()>>>0);function wh(a){return da(a)?a:a[Hh]||(a[Hh]=function(b){return a.handleEvent(b)})};function Ih(){nd.call(this);this.V=new ph(this);this.b=this}C(Ih,nd);Ih.prototype[kh]=!0;Ih.prototype.a=null;Ih.prototype.addEventListener=function(a,b,c,d){vh(this,a,b,c,d)};Ih.prototype.removeEventListener=function(a,b,c,d){Dh(this,a,b,c,d)};Ih.prototype.W=function(){Ih.t.W.call(this);if(this.V){var a=this.V,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,oh(d[e]);delete a.a[c];a.b--}}this.a=null};
function Jh(a,b,c,d){b=a.V.a[String(b)];if(!b)return!0;b=sb(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.a&&g.b==c){var h=g.ca,k=g.c||g.src;g.xa&&rh(a.V,g);e=!1!==h.call(k,d)&&e}}return e&&!1!=d.Gb};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function Kh(a){a.f||(a.f=new Ih);return a.f}yf.prototype.addEventListener=function(a,b,c,d){if("ready"==a)Ch(Kh(this),a,b,c,d);else{var e="created error fail ready deleted updated versionchange".split(" "),f=function(a){if(!qb(e,a))throw new F('Invalid event type "'+a+'"');};if(v(a))for(var g=0;g<a.length;g++)f(a[g]);else f(a);vh(Kh(this),a,b,c,d)}};yf.prototype.removeEventListener=function(a,b,c,d){Dh(Kh(this),a,b,c,d)};
yf.prototype.J=function(a){var b=Kh(this),c,d=b.a;if(d)for(c=[];d;d=d.a)c.push(d);b=b.b;d=a.type||a;if(w(a))a=new qd(a,b);else if(a instanceof qd)a.target=a.target||b;else{var e=a;a=new qd(d,b);Tb(a,e)}var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=a.b=c[g],e=Jh(f,d,!0,a)&&e;f=a.b=b;e=Jh(f,d,!0,a)&&e;e=Jh(f,d,!1,a)&&e;if(c)for(g=0;g<c.length;g++)f=a.b=c[g],e=Jh(f,d,!1,a)&&e};yf.prototype.addEventListener=yf.prototype.addEventListener;yf.prototype.removeEventListener=yf.prototype.removeEventListener;Yf.prototype.scan=Yf.prototype.hc;Yf.prototype.map=Yf.prototype.map;Yf.prototype.reduce=Yf.prototype.reduce;Yf.prototype.open=Yf.prototype.open;Vf.prototype.scan=Vf.prototype.lb;Vf.prototype.map=Vf.prototype.map;Vf.prototype.reduce=Vf.prototype.reduce;Vf.prototype.open=Vf.prototype.open;Bf.prototype.getKey=Bf.prototype.ic;Bf.prototype.getPrimaryKey=Bf.prototype.q;Bf.prototype.getValue=Bf.prototype.w;Bf.prototype.update=Bf.prototype.update;Bf.prototype.clear=Bf.prototype.clear;
la("ydn.db.Iterator",Y);la("ydn.db.KeyIterator",If);la("ydn.db.ValueIterator",Kf);la("ydn.db.IndexIterator",Jf);la("ydn.db.IndexValueIterator",Lf);Y.prototype.getState=Y.prototype.Tb;Y.prototype.getKeyRange=Y.prototype.Jb;Y.prototype.getIndexName=Y.prototype.Zb;Y.prototype.getStoreName=Y.prototype.h;Y.prototype.isReversed=Y.prototype.S;Y.prototype.isUnique=Y.prototype.na;Y.prototype.isKeyIterator=Y.prototype.ac;Y.prototype.isIndexIterator=Y.prototype.Ub;Y.prototype.getPrimaryKey=Y.prototype.q;
Y.prototype.getKey=Y.prototype.$b;Y.prototype.resume=Y.prototype.Kb;Y.prototype.reset=Y.prototype.fb;Y.prototype.reverse=Y.prototype.reverse;If.where=function(a,b,c,d,e){return new If(a,Ld(b,c,d,e))};Kf.where=function(a,b,c,d,e){return new Kf(a,Ld(b,c,d,e))};Jf.where=function(a,b,c,d,e,f){return new Jf(a,b,Ld(c,d,e,f))};Lf.where=function(a,b,c,d,e,f){return new Lf(a,b,Ld(c,d,e,f))};la("ydn.db.Streamer",Qf);Qf.prototype.push=Qf.prototype.push;Qf.prototype.collect=Qf.prototype.gc;
Qf.prototype.setSink=Qf.prototype.Yb;function Lh(a,b){Tf.call(this,a,b)}C(Lh,Tf);Lh.prototype.f=function(){return!1};Lh.prototype.c=function(a,b){function c(b){t(a[b])?(e=!1,d[b]=!0):(d[b]=!1,0<=b-1&&c(b-1))}var d=[],e=!0;c(a.length-1);e&&(d=[]);return Uf(this,d,b)};function Mh(a,b){Tf.call(this,a,b)}C(Mh,Tf);
Mh.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var m=ld(d,b[k]);h[k]=m;this.b?-1==m?e=!1:1==m&&(e=!1,f=!0,-1==ld(b[k],g)&&(g=b[k])):1==m?e=!1:-1==m&&(e=!1,f=!0,1==ld(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.b?-1==ld(g,b[f])&&(c[f]=g):1==ld(g,b[f])&&(c[f]=g));else for(k=this.b?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?
(this.e++,this.a&&this.a.push(g),c):{continuePrimary:c}};function Oh(a,b){Tf.call(this,a,b)}C(Oh,Tf);Oh.prototype.logger=G("ydn.db.algo.ZigzagMerge");
Oh.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);c.push(b);return c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),k=[],m=1;m<a.length;m++)if(null!=a[m]){var q=d(a[m]),n=ld(h,q);k[m]=n;this.b?-1==n?f=!1:1==n&&(f=!1,h=q,g=1):1==n?f=!1:-1==n&&(f=!1,h=q,g=1)}else return[];m=this.b?-1:1;if(f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);this.a&&(this.d?this.a.push(b[0],h):this.a.push(b[0]));return e}if(0==
g)for(f=1;f<a.length;f++)k[f]==m&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&ld(h,d(a[f]))===m&&(e[f]=c(a[f],h));return{"continue":e}};la("ydn.db.algo.NestedLoop",Lh);la("ydn.db.algo.ZigzagMerge",Oh);la("ydn.db.algo.SortedMerge",Mh);function Ph(a){this.b=a||[]}Ph.prototype.a=function(a){return-1==this.b.indexOf(a)?a:null};function Qh(){}
Qh.prototype.a=function(a){var b={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},c={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};a=a.toLowerCase();var d,e,f=a;if(3>a.length)return a;var g,h;a=a.substr(0,1);"y"==a&&(f=a.toUpperCase()+f.substr(1));g=/^(.+?)(ss|i)es$/;e=/^(.+?)([^s])s$/;
g.test(f)?f=f.replace(g,"$1$2"):e.test(f)&&(f=f.replace(e,"$1$2"));g=/^(.+?)eed$/;e=/^(.+?)(ed|ing)$/;g.test(f)?(e=g.exec(f),g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(e[1])&&(g=/.$/,f=f.replace(g,""))):e.test(f)&&(e=e.exec(f),d=e[1],e=/^([^aeiou][^aeiouy]*)?[aeiouy]/,e.test(d)&&(f=d,e=/(at|bl|iz)$/,h=/([^aeiouylsz])\1$/,d=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,e.test(f)?f+="e":h.test(f)?(g=/.$/,f=f.replace(g,"")):d.test(f)&&(f+="e")));g=/^(.+?)y$/;g.test(f)&&(e=g.exec(f),
d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy]/,g.test(d)&&(f=d+"i"));g=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;g.test(f)&&(e=g.exec(f),d=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d+b[e]));g=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;g.test(f)&&(e=g.exec(f),d=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d+c[e]));g=
/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;e=/^(.+?)(s|t)(ion)$/;g.test(f)?(e=g.exec(f),d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d)):e.test(f)&&(e=e.exec(f),d=e[1]+e[2],e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,e.test(d)&&(f=d));g=/^(.+?)e$/;g.test(f)&&(e=g.exec(f),d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,h=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,g.test(d)||e.test(d)&&!h.test(d))&&(f=d);g=/ll$/;e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;g.test(f)&&e.test(f)&&(g=/.$/,f=f.replace(g,""));"y"==a&&(f=a.toLowerCase()+f.substr(1));return f};function Rh(a){this.b=a}
Rh.prototype.a=function(a){a=a.toLowerCase();a=a.replace(/([^c])\1/g,"$1");a=function(a){return a.match(/^(kn|gn|pn|ae|wr)/)?a.substr(1,a.length-1):a}(a);a=a.replace(/mb$/,"m");a=a.replace(/ck/g,"k");a=function(a){a=a.replace(/([^s]|^)(c)(h)/g,"$1x$3").trim();a=a.replace(/cia/g,"xia");a=a.replace(/c(i|e|y)/g,"s$1");return a=a.replace(/c/g,"k")}(a);a=function(a){a=a.replace(/d(ge|gy|gi)/g,"j$1");return a=a.replace(/d/g,"t")}(a);a=function(a){a=a.replace(/gh(^$|[^aeiou])/g,"h$1");return a=a.replace(/g(n|ned)$/g,
"$1")}(a);a=function(a){a=a.replace(/([^g]|^)(g)(i|e|y)/g,"$1j$3");a=a.replace(/gg/g,"g");return a=a.replace(/g/g,"k")}(a);a=a.replace(/([aeiou])h([^aeiou])/g,"$1$2");a=a.replace(/ph/g,"f");a=a.replace(/q/g,"k");a=a.replace(/s(h|io|ia)/g,"x$1");a=function(a){a=a.replace(/^x/,"s");return a=a.replace(/x/g,"ks")}(a);a=function(a){a=a.replace(/t(ia|io)/g,"x$1");return a=a.replace(/th/,"0")}(a);a=a.replace(/tch/g,"ch");a=a.replace(/v/g,"f");a=a.replace(/^wh/,"w");a=a.replace(/w([^aeiou]|$)/g,"$1");a=a.replace(/y([^aeiou]|$)/g,
"$1");a=a.replace(/z/,"s");a=a.charAt(0)+a.substr(1,a.length).replace(/[aeiou]/g,"");a.length>=this.b&&(a=a.substring(0,this.b));return a=a.toUpperCase()};var Sh=new Rh(32),Th=new Qh,Uh=new Ph("a a's able about above according accordingly across actually after afterwards again against ain't all allow allows almost alone along already also although always am among amongst an and another any anybody anyhow anyone anything anyway anyways anywhere apart appear appreciate appropriate are aren't around as aside ask asking associated at available away awfully b be became because become becomes becoming been before beforehand behind being believe below beside besides best better between beyond both brief but by c c'mon c's came can can't cannot cant cause causes certain certainly changes clearly co com come comes concerning consequently consider considering contain containing contains corresponding could couldn't course currently d definitely described despite did didn't different do does doesn't doing don't done down downwards during e each edu eg eight either else elsewhere enough entirely especially et etc even ever every everybody everyone everything everywhere ex exactly example except f far few fifth first five followed following follows for former formerly forth four from further furthermore g get gets getting given gives go goes going gone got gotten greetings h had hadn't happens hardly has hasn't have haven't having he he's hello help hence her here here's hereafter hereby herein hereupon hers herself hi him himself his hither hopefully how howbeit however i i'd i'll i'm i've ie if ignored immediate in inasmuch inc indeed indicate indicated indicates inner insofar instead into inward is isn't it it'd it'll it's its itself j just k keep keeps kept know knows known l last lately later latter latterly least less lest let let's like liked likely little look looking looks ltd m mainly many may maybe me mean meanwhile merely might more moreover most mostly much must my myself n name namely nd near nearly necessary need needs neither never nevertheless new next nine no nobody non none noone nor normally not nothing novel now nowhere o obviously of off often oh ok okay old on once one ones only onto or other others otherwise ought our ours ourselves out outside over overall own p particular particularly per perhaps placed please plus possible presumably probably provides q que quite qv r rather rd re really reasonably regarding regardless regards relatively respectively right s said same saw say saying says second secondly see seeing seem seemed seeming seems seen self selves sensible sent serious seriously seven several shall she should shouldn't since six so some somebody somehow someone something sometime sometimes somewhat somewhere soon sorry specified specify specifying still sub such sup sure t t's take taken tell tends th than thank thanks thanx that that's thats the their theirs them themselves then thence there there's thereafter thereby therefore therein theres thereupon these they they'd they'll they're they've think third this thorough thoroughly those though three through throughout thru thus to together too took toward towards tried tries truly try trying twice two u un under unfortunately unless unlikely until unto up upon us use used useful uses using usually uucp v value various very via viz vs w want wants was wasn't way we we'd we'll we're we've welcome well went were weren't what what's whatever when whence whenever where where's whereafter whereas whereby wherein whereupon wherever whether which while whither who who's whoever whole whom whose why will willing wish with within without won't wonder would wouldn't x y yes yet you you'd you'll you're you've your yours yourself yourselves z zero".split(" "));function Vh(a){this.data=a;this.a=0}Vh.prototype.next=function(a){for(var b=this.a,c=this.data[b],c=1,d=0;0<=b&&b<this.data.length;){c=this.data[b];if(c instanceof Array)if(a<c[0])c=-1;else if(a>c[1])c=1;else return this.a=b,!0;else{if(c==a)return this.a=b,!0;c=a<c?-1:1}if(0==d)d=c;else if(d!=c)break;b+=c;if(b>this.data.length||0>b)break}return!1};
function Wh(a,b){for(var c=0,d=0,e=a.length,f=0;f<e;++f){a:{var d=a.charCodeAt(f),g=new Vh(categ_letters_numbers_data);if(x(d))d=g.next(d);else{for(var h=0,k=d.length;h<k;++h)if(!1===g.next(d[h])){d=!1;break a}d=!0}}d||((d=f-c)&&b(c,d),c=f+1)}(d=e-c)&&b(c,d)};var Xh,Yh;Yh=Xh=!1;var Zh=ac;Zh&&(-1!=Zh.indexOf("Firefox")?Xh=!0:-1!=Zh.indexOf("Camino")||-1!=Zh.indexOf("iPhone")||-1!=Zh.indexOf("iPod")||-1!=Zh.indexOf("iPad")||-1!=Zh.indexOf("Chrome")&&(Yh=!0));var $h=Xh,ai=Yh;function bi(a,b){this.f=b;this.value=a}bi.prototype.w=function(){return this.value};bi.prototype.c=function(){return 1};var ci=ai||$h;bi.prototype.nb=function(){return this.value};bi.prototype.toString=function(){return"Entry:"+this.value};function di(a,b,c,d,e,f){bi.call(this,d,e);this.a=a;this.d=b;this.e=c;this.Ga=f||[]}C(di,bi);l=di.prototype;l.sa=function(){return{k:this.f,v:this.value.toLowerCase(),id:this.nb(),loc:this.Ga}};l.nb=function(){var a=[this.a,this.e,this.d,this.value];return ci?a:Yc(a)};l.h=function(){return this.a};l.q=function(){return this.e};l.toString=function(){return["IndexEntry",this.a,this.e,this.value].join(":")};function ei(a,b,c,d,e){bi.call(this,b,c);this.g=d;this.a=e;this.type=a;this.sb=1}C(ei,bi);ei.prototype.c=function(){return this.a*this.type*this.sb};ei.prototype.nb=function(){return this.value+"|"+this.g};function fi(a,b){di.call(this,b.h(),b.d,b.q(),b.w(),b.f,[]);this.i=a;this.b=[b]}C(fi,di);fi.prototype.count=function(){return this.b.length};function gi(a,b){for(var c=b.b[0],d=0;d<a.b.length;d++)if(a.b[d].d==c.d&&a.b[d].value==c.value)return;a.b.push(c)}fi.prototype.c=function(){for(var a=0,b=0;b<this.b.length;b++)var c=this.b[b],d=pe(this.i,c.h(),c.d),c=c.c(),a=a+c*d.c;return a};function zb(a,b){var c=a.c(),d=b.c();return c<=d?1:-1}
fi.prototype.sa=function(){for(var a={value:this.value,primaryKey:this.e,storeName:this.a,score:this.c(),tokens:[]},b=0;b<this.b.length;b++)a.tokens[b]=this.b[b].sa();return a};fi.prototype.toString=function(){return["RankEntry",this.a,this.e,this.value].join(":")+"["+this.b.length+"]"};function hi(a){var b=[],c;a=a.split(/\s+/);for(var d=0;d<a.length;d++){c=a[d];for(var e=c.length-1,f=Array(e),g=0;g<e;g++)f[g]=c.substring(g,g+2);c=f;b.push.apply(b,c)}return b};function rf(a,b,c,d,e,f,g){di.call(this,b,c,d,e,f,g);this.b=a}C(rf,di);rf.prototype.c=function(){var a,b=this.value;a=hi(this.b.value.toLowerCase().replace(/^\s+|\s+$/g,""));var b=hi(b.toLowerCase().replace(/^\s+|\s+$/g,"")),c=0,d=a.length+b.length,e,f,g,h;for(e=0;e<a.length;e++)for(g=a[e],f=0;f<b.length;f++)if(h=b[f],g==h){c++;delete b[f];break}a=2*c/d;b=Math.log(this.Ga.length+1);c=this.b.c();return b*a*c};rf.prototype.sa=function(){return{keyPath:this.d,value:this.value,loc:this.Ga.slice()}};
rf.prototype.toString=function(){return["ResultEntry",this.a,this.e,this.value].join(":")};function ii(a,b){this.a=a;this.b=b;this.d=[];this.c=0}function qf(a,b){for(var c,d,e=a.a.getName(),f=0;f<a.b.length;f++){var g=a.b[f],h=g.type;0.4==h||0.6==h?(d="v",c=g.w().toLowerCase(),c=Fd(c)):(d="v",c=g.w().toLowerCase(),c=Q.only(c));b(e,d,c,g);a.c++;0.6==h&&(d="k",c=g.f,c=Q.only(c),b(e,d,c,g),a.c++)}}function pf(a){for(var b=[a.a.getName()],c=0;c<a.a.count();c++){var d=a.a.index(c).h();-1==b.indexOf(d)&&b.push(d)}return b}
ii.prototype.e=function(){for(var a=[],b=[],c=0;c<this.d.length;c++){var d=this.d[c];if(0==d.b.type)-1==pb(b,function(a){return a.q()==d.q()&&a.h()==d.h()})&&b.push(d);else{var e=new fi(this.a,d),f=pb(a,function(a){return a.q()==e.q()&&a.h()==e.h()});if(0<=f){var g=a[f];hb.splice.call(a,f,1);gi(g,e);e=g}yb(a,e)}}for(f=0;f<b.length;f++)for(g=b[f],c=a.length-1;0<=c;--c){var h=a[c];if(g.q()==h.q()&&g.h()==h.h()){a.splice(f,1);break}}return a.map(function(a){return a.sa()})};function ji(a){this.a=a;if("en"==a.c){a=a.d||["stop","stemmer","metaphone"];for(var b=[],c=0;c<a.length;c++)if("metaphone"==a[c])b.push(Sh);else if("stemmer"==a[c])b.push(Th);else if("stop"==a[c])b.push(Uh);else throw Error('Invalid normalizer "'+a[c]+'" for English lang');a=b}else a=[];this.b=a}function ki(a,b){for(var c=0;c<a.b.length;c++){var d=a.b[c].a(b);if(d)b=d;else return null}return b}
function li(a,b){var c=[],d=[];Wh(b,function(a,e){c.push(b.substr(a,e));d.push(a)});for(var e=[],f=0;f<c.length;f++)e[f]=ki(a,c[f]);for(var g=[],h=0,f=0;f<c.length;f++){var k=c[f],m=e[f],q="*"==b.charAt(d[f]+k.length),n=q?d[f]+k.length+1:d[f]+k.length,n='"'==b.charAt(d[f]-1)&&'"'==b.charAt(n),p="-"==b.charAt(n?d[f]-2:d[f]-1),s=0.8;q?s=0.4:n?s=1:p?s=0:null!=m&&(s=0.6);k=new ei(s,k,m,d[f],1/(f+2));g.push(k);h+=k.c()}for(f=0;f<g.length;++f)g[f].sb=1/h;return g}
function mi(a,b,c,d){var e=[],f=[];Wh(b,function(a,c){e.push(b.substr(a,c));f.push(a)});for(var g=[],h=0;h<e.length;h++)g[h]=ki(a,e[h]);a=c.h();c=c.b;for(var k=[],h=0;h<e.length;h++){var m=e[h],q=g[h];if(null!=q){var n=ob(k,function(a){return a.w()==m});n||(n=new di(a,c,d,m,q),k.push(n));n.Ga.push(f[h])}}return k}function ni(a,b,c,d){for(var e=[],f=0;f<a.a.count();f++){var g=a.a.index(f);if(g.h()==b){var h=Vc(d,g.b);w(h)&&(e=e.concat(mi(a,h,g,c)))}}return e};X.prototype.rb=function(a,b){var c=this;b.a=new ji(b);je(a,function(d,e){function f(e){var f=a.getName();Ad(e)&&jd(d,function(a,g,h){if(g)h(a,g);else{Pc(d,a);var k=Dd(Q.bound([f,e],[f,e,"\uffff"])),A=b.getName();tf(c.a,A,k).ha(function(){h(a,g)})}})}function g(b){var e=a.getName();jd(d,function(a,f,g){f?g(a,f):(Pc(d,a),b&&(b=Dd(Q.bound([e,b.lower],[e,b.upper,"\uffff"]))),tf(c.a,e,b).ha(function(){g(a,f)}))})}function h(e,f){var g=a.getName();jd(d,function(a,h,k){Pc(d,a);if(h)k(a,h);else{var A=b.getName();
u(a)||(a=[a]);for(var E=0;E<a.length;E++){var B=a[E];if(Ad(B)){if(f){var H=Dd(Q.bound([g,B],[g,B,"\uffff"]));tf(c.a,A,H)}B=ni(b.a,g,B,e[E]).map(function(a){return a.sa()});B=sf(c.a,A,B);E==a.length-1&&B.ha(function(){k(a,h)})}}}})}var k=d.l;"put"==k?h([e[1]],!0):"put:array"==k?h(e[1],!0):"add"==k?h([e[1]],!1):"add:array"==k?h(e[1],!1):"rm:iter"==k||"clear"==k?g(e[1]):"rm"==k&&f(e[1])})};
X.prototype.G=function(a,b){var c=ve(this.b,a);if(!c)throw new F('full text index catalog "'+a+'" not found.');var c=c.a,d=li(c,b),c=0==d.length?null:new ii(c.a,d);return c?of(this.a,c):(this.logger.log(Cc,'query "'+b+'" contains only noise and search is ignored',void 0),kd("search",null))};X.prototype.search=X.prototype.G;ii.prototype.collect=ii.prototype.e;function oi(a,b,c){this.db=a;this.b=b;this.type=c||0;this.c=null};function pi(a,b,c,d){this.d=a;this.a=b||null;this.f=!!c;this.e=!!d;this.b=[];this.c=[]}function qi(a,b){for(var c=b.length-1;0<=c;c--)if(b[c]==a.b[a.b.length-1])b=b.slice(0,c);else break;a.c=b;return null}function ri(a,b){if((0!=a.b.length||0!=a.c.length)&&si(a)&&!ti(a))throw new Oe('Require index "'+a.b.concat(a.c).join(", ")+'" not found in store "'+a.d.getName()+'"');var c=new Y(a.d.getName(),ui(a),a.a,a.f,a.e,!!b);c.r=a.b.length;return c}l=pi.prototype;l.h=function(){return this.d.getName()};
l.C=function(){var a=new pi(this.d,this.a,this.f,this.e);a.c=this.c.slice();a.b=this.b.slice();return a};function ti(a){var b=a.b.concat(a.c),c=ae(a.d,b);return c||b[b.length-1]==a.d.keyPath&&(c=ae(a.d,b.slice(0,b.length-1)))?c:null}function ui(a){return(a=ti(a))?a.getName():void 0}l.reverse=function(){var a=this.C();a.f=!this.f;return a};l.unique=function(a){var b=this.C();b.e=!!a;return b};function si(a){return 0<a.b.length?!0:1==a.c.length?a.c[0]!=a.d.keyPath:1<a.c.length?!0:!1}
l.n=function(a,b,c,d,e){c=Ld(b,c,d,e);if(0<this.b.length)if(this.a)if(null!=this.a.lower&&null!=this.a.upper&&0==ld(this.a.lower,this.a.upper))a=u(this.a.lower)?this.a.lower.slice().push(b):[this.a.lower,b],d=null!=d?d:"\uffff",c=u(this.a.upper)?this.a.upper.slice().push(d):[this.a.upper,d],this.a=Ld(b,a,d,c);else if(1==this.b.length&&this.b[0]==a||u(a)&&vb(this.b,a))this.a=this.a.$(c);else return"cannot use where clause with existing filter";else return"cannot use where clause with existing filter";
else this.b=u(a)?a:[a],this.a=this.a?this.a.$(c):c;return null};function vi(a,b,c,d){oi.call(this,a,b,c);this.a=d}C(vi,oi);vi.prototype.open=function(){var a={push:function(){}},a=wi(this)?new Oh(a):new Mh(a);return this.db.lb(a,xi(this),L)};function xi(a){for(var b=[],c=0;c<a.a.length;c++)b[c]=ri(a.a[c]);return b}function wi(a){for(var b=0;b<a.a.length;b++)if(0<a.a[b].b.length)return!0;return!1}vi.prototype.Wa=function(){return this.a.slice()};vi.prototype.select=function(){throw Error("not impl");};
vi.prototype.reverse=function(){var a=this.a.map(function(a){return a.reverse()});return new vi(this.db,this.b,this.type,a)};function Z(a,b,c,d){oi.call(this,a,b,c);this.a=d}C(Z,oi);l=Z.prototype;l.dc=function(){return new Z(this.db,this.b,this.type,this.a.C())};l.reverse=function(){var a=this.a.reverse();return new Z(this.db,this.b,this.type,a)};l.unique=function(a){if(!ca(a))throw new F("unique value must be a boolean, but "+typeof a+" found");a=this.a.unique(a);return new Z(this.db,this.b,this.type,a)};l.N=function(a){var b=w(a)?[a]:a;a=this.a.C();if(b=qi(a,b))throw Error(b);return new Z(this.db,this.b,this.type,a)};
l.n=function(a,b,c,d,e){if(ui(this.a)&&ui(this.a)!=a){var f=Ld(b,c,d,e),f=new pi(T(this.b,this.a.h()),f,this.a.f,this.a.e);return this.$(new Z(this.db,this.b,this.type,f))}if(!ui(this.a)&&!be(T(this.b,this.a.h()),a))throw new F('index "'+a+'" not exists in '+this.a.h());f=this.a.C();if(a=f.n(a,b,c,d,e))throw new F(a);return new Z(this.db,this.b,this.type,f)};
l.select=function(a){var b=T(this.b,this.a.h()),c=w(a)?[a]:a,d=this.type;a=this.a.C();d=ui(this.a);if(1==c.length)if(d=c[0],"_ROWID_"==d||d==b.keyPath)d=2;else if(d&&"*"!=d)if(be(b,d)){if(b=qi(a,c))throw new F(b);d=1}else throw new F('Invalid select "'+d+'", index not found in store "'+b.getName()+'"');else d=4;else if(2==c.length){if(!d)throw new F("Only primary key can be selected for this query.");for(var e=0;2>e;e++){var f;if(f="_ROWID_"!=c[e]){f=b;var g=c[e];f=!(t(f.keyPath)&&(1==f.f.length?
f.keyPath===g:v(g)&&vb(f.f,g)))}if(f&&c[e]!=d)throw new F('select field name must be "'+d+'", but "'+c[e]+'" found.');}d=3}else throw new F("Selecting more than 2 field names is not supported, but "+c.length+" fields selected.");return new Z(this.db,this.b,d,a)};l.ec=function(a){a=a||100;var b=4,c=yi(this);this.c&&this.c[0]&&(c=c.Kb(this.c[0],this.c[1]));if(2==this.type||3==this.type||1==this.type)b=this.type;a=Xf(this.db,b,c,a);a.I(function(){"rest"==c.d&&(this.c=[c.g,c.q()])},this);return a};
l.Wa=function(){return[this.a.C()]};function yi(a){return ri(a.a,!(2==a.type||3==a.type||1==a.type))}
l.Vb=function(a,b){var c=yi(this);c.a&&(c=new Y(c.e,c.c,c.b,c.S(),c.na(),!1,c.f));if(1>arguments.length)throw new F("too few arguments");if(2==arguments.length){if(!w(a)&&u(a)){if(!u(b))throw new F("an array is expected for second argument but, "+me(b)+" of type "+typeof b+" found");if(a.length!=b.length)throw new F("length of two input arguments must be equal but, "+a.length+" and "+b.length+" found");}}else if(1==arguments.length){if(!y(a))throw new F("an object is expected but, "+me(a)+" of type "+
typeof a+" found");}else throw new F("too many arguments");var d=this.db.open(function(c){var f=c.w();if(w(a))Wc(f,a,b);else if(u(a))for(var g=0;g<a.length;g++)Wc(f,a[g],b[g]);else if(y(a))for(g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);c=c.update(f);d.I(ia(c.Ja,c))},c,L,this);return d};l.open=function(a,b){return this.db.open(a,yi(this),L,b)};l.count=function(){return si(this.a)?this.a.e?this.db.count(ri(this.a)):this.db.count(this.a.h(),ui(this.a),this.a.a):this.db.count(this.a.h(),this.a.a)};
l.clear=function(){return si(this.a)?this.db.clear(this.a.h(),ui(this.a),this.a.a):this.db.clear(this.a.h(),this.a.a)};l.$=function(a){a=a.Wa().concat(this.Wa());return new vi(this.db,this.b,this.type,a)};
Yf.prototype.M=function(a,b,c,d,e){if(!w(a))throw new TypeError('store name "'+a+'"');if(!te(this.b,a))throw new F('Store "'+a+'" not found.');var f=null;if(t(b)){if(!t(c))throw new F("boundary value must be defined.");f=Ld(b,c,d,e)}else if(t(d))throw new F("second boundary must not be defined.");a=new pi(T(this.b,a),f);return new Z(this.a,this.b,null,a)};
Vf.prototype.M=function(a,b,c,d,e){if(!w(a))throw new TypeError('store name "'+a+'"');if(!te(this.b,a))throw new F('Store "'+a+'" not found.');var f=null;if(t(b)){if(!t(c))throw new F("boundary value must be defined.");f=Ld(b,c,d,e)}else if(t(d))throw new F("second boundary must not be defined.");a=new pi(T(this.b,a),f);return new Z(this,this.b,null,a)};G("ydn.db.query.ConjunctionCursor");Z.prototype.copy=Z.prototype.dc;Z.prototype.count=Z.prototype.count;Z.prototype.list=Z.prototype.ec;Z.prototype.order=Z.prototype.N;Z.prototype.patch=Z.prototype.Vb;Z.prototype.reverse=Z.prototype.reverse;Z.prototype.unique=Z.prototype.unique;Z.prototype.where=Z.prototype.n;Yf.prototype.from=Yf.prototype.M;Vf.prototype.from=Vf.prototype.M; 
var categ_letters_numbers_data=[[48,57],[65,90],[97,122],170,[178,179],181,[185,186],[188,190],[192,214],[216,246],[248,705],[710,721],[736,740],748
	,750,[880,884],[886,887],[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1319],[1329,1366],1369
	,[1377,1415],[1488,1514],[1520,1522],[1568,1610],[1632,1641],[1646,1647],[1649,1747],1749,[1765,1766],[1774,1788],1791
	,1808,[1810,1839],[1869,1957],1969,[1984,2026],[2036,2037],2042,[2048,2069],2074,2084,2088,[2112,2136],2208,[2210,2220]
	,[2308,2361],2365,2384,[2392,2401],[2406,2415],[2417,2423],[2425,2431],[2437,2444],[2447,2448],[2451,2472],[2474,2480]
	,2482,[2486,2489],2493,2510,[2524,2525],[2527,2529],[2534,2545],[2548,2553],[2565,2570],[2575,2576],[2579,2600]
	,[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],2654,[2662,2671],[2674,2676],[2693,2701],[2703,2705]
	,[2707,2728],[2730,2736],[2738,2739],[2741,2745],2749,2768,[2784,2785],[2790,2799],[2821,2828],[2831,2832],[2835,2856]
	,[2858,2864],[2866,2867],[2869,2873],2877,[2908,2909],[2911,2913],[2918,2927],[2929,2935],2947,[2949,2954],[2958,2960]
	,[2962,2965],[2969,2970],2972,[2974,2975],[2979,2980],[2984,2986],[2990,3001],3024,[3046,3058],[3077,3084],[3086,3088]
	,[3090,3112],[3114,3123],[3125,3129],3133,[3160,3161],[3168,3169],[3174,3183],[3192,3198],[3205,3212],[3214,3216]
	,[3218,3240],[3242,3251],[3253,3257],3261,3294,[3296,3297],[3302,3311],[3313,3314],[3333,3340],[3342,3344],[3346,3386]
	,3389,3406,[3424,3425],[3430,3445],[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632]
	,[3634,3635],[3648,3654],[3664,3673],[3713,3714],3716,[3719,3720],3722,3725,[3732,3735],[3737,3743],[3745,3747],3749
	,3751,[3754,3755],[3757,3760],[3762,3763],3773,[3776,3780],3782,[3792,3801],[3804,3807],3840,[3872,3891],[3904,3911]
	,[3913,3948],[3976,3980],[4096,4138],[4159,4169],[4176,4181],[4186,4189],4193,[4197,4198],[4206,4208],[4213,4225],4238
	,[4240,4249],[4256,4293],4295,4301,[4304,4346],[4348,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744]
	,[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954]
	,[4969,4988],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5872],[5888,5900]
	,[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6000],[6016,6067],6103,6108,[6112,6121],[6128,6137],[6160,6169]
	,[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6470,6509],[6512,6516],[6528,6571],[6593,6599],[6608,6618]
	,[6656,6678],[6688,6740],[6784,6793],[6800,6809],6823,[6917,6963],[6981,6987],[6992,7001],[7043,7072],[7086,7141]
	,[7168,7203],[7232,7241],[7245,7293],[7401,7404],[7406,7409],[7413,7414],[7424,7615],[7680,7957],[7960,7965]
	,[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140]
	,[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],[8304,8305],[8308,8313],[8319,8329],[8336,8348],8450,8455
	,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,[8528,8585]
	,[9312,9371],[9450,9471],[10102,10131],[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11506,11507],11517
	,[11520,11557],11559,11565,[11568,11623],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710]
	,[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,[12293,12295],[12321,12329],[12337,12341],[12344,12348]
	,[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12690,12693],[12704,12730]
	,[12784,12799],[12832,12841],[12872,12879],[12881,12895],[12928,12937],[12977,12991],13312,19893,19968,40908
	,[40960,42124],[42192,42237],[42240,42508],[42512,42539],[42560,42606],[42623,42647],[42656,42735],[42775,42783]
	,[42786,42888],[42891,42894],[42896,42899],[42912,42922],[43000,43009],[43011,43013],[43015,43018],[43020,43042]
	,[43056,43061],[43072,43123],[43138,43187],[43216,43225],[43250,43255],43259,[43264,43301],[43312,43334],[43360,43388]
	,[43396,43442],[43471,43481],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43616,43638],43642,[43648,43695]
	,43697,[43701,43702],[43705,43709],43712,43714,[43739,43741],[43744,43754],[43762,43764],[43777,43782],[43785,43790]
	,[43793,43798],[43808,43814],[43816,43822],[43968,44002],[44016,44025],44032,55203,[55216,55238],[55243,55291]
	,[63744,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318
	,[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140]
	,[65142,65276],[65296,65305],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495]
	,[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786]
	,[65799,65843],[65856,65912],65930,[66176,66204],[66208,66256],[66304,66334],[66336,66339],[66352,66378],[66432,66461]
	,[66464,66499],[66504,66511],[66513,66517],[66560,66717],[66720,66729],[67584,67589],67592,[67594,67637],[67639,67640]
	,67644,[67647,67669],[67672,67679],[67840,67867],[67872,67897],[67968,68023],[68030,68031],68096,[68112,68115]
	,[68117,68119],[68121,68147],[68160,68167],[68192,68222],[68352,68405],[68416,68437],[68440,68466],[68472,68479]
	,[68608,68680],[69216,69246],[69635,69687],[69714,69743],[69763,69807],[69840,69864],[69872,69881],[69891,69926]
	,[69942,69951],[70019,70066],[70081,70084],[70096,70105],[71296,71338],[71360,71369],[73728,74606],[74752,74850]
	,[77824,78894],[92160,92728],[93952,94020],94032,[94099,94111],[110592,110593],[119648,119665],[119808,119892]
	,[119894,119964],[119966,119967],119970,[119973,119974],[119977,119980],[119982,119993],119995,[119997,120003]
	,[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],120134
	,[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628]
	,[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[120782,120831]
	,[126464,126467],[126469,126495],[126497,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530
	,126535,126537,126539,[126541,126543],[126545,126546],126548,126551,126553,126555,126557,126559,[126561,126562],126564
	,[126567,126570],[126572,126578],[126580,126583],[126585,126588],126590,[126592,126601],[126603,126619],[126625,126627]
	,[126629,126633],[126635,126651],[127232,127242],131072,173782,173824,177972,177984,178205,[194560,195101]];
;

//# sourceMappingURL=ydn.db-is-sql-e-cur-qry-text-dev.js.map
return ydn;}, (this || {}));
            